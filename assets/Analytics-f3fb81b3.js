import{au as o,ax as E,u as A,a4 as F,l as k,a as m,ay as p,j as e,a6 as P,Z as W,af as I,ag as O,b as V,T as s,e as G,az as J}from"./@mui-94e45ada.js";import{r as h}from"./react-19ede8c0.js";import{C as R,r as U}from"./chart.js-37bc32c2.js";import{L as q}from"./react-chartjs-2-eab6c832.js";import{f as H}from"./factura.listado.api-140e1c24.js";import"./react-is-e5978b8b.js";import"./@emotion-01c0502c.js";import"./hoist-non-react-statics-6e7e3bdb.js";import"./@babel-41a3dc83.js";import"./stylis-79144faa.js";import"./react-transition-group-07c33d75.js";import"./react-dom-308b05ff.js";import"./scheduler-765c72db.js";import"./@popperjs-f3391c26.js";import"./jss-4560bbb1.js";import"./is-in-browser-9e40da8a.js";import"./jss-plugin-rule-value-function-275843d2.js";import"./jss-plugin-global-96037998.js";import"./jss-plugin-nested-279c4525.js";import"./jss-plugin-camel-case-92f9f32c.js";import"./hyphenate-style-name-80972348.js";import"./jss-plugin-default-unit-80d6b696.js";import"./jss-plugin-vendor-prefixer-711b305d.js";import"./css-vendor-f41dfb6e.js";import"./jss-plugin-props-sort-0c9fca2f.js";import"./@kurkle-b1b89bbc.js";import"./graphql-request-396d023b.js";import"./form-data-c8368213.js";import"./extract-files-b993d67a.js";import"./graphql-9eaaa955.js";import"./cross-fetch-ff4a750f.js";import"./index-a032e14e.js";import"./rc-input-number-5ce3f958.js";import"./classnames-e62508ea.js";import"./rc-util-f84322a6.js";import"./@rc-component-9042d6d8.js";/* empty css                     */import"./react-toastify-ac6b7c37.js";import"./clsx-1229b3e0.js";import"./react-datepicker-b19bab85.js";import"./date-fns-66b136a8.js";import"./react-onclickoutside-a7243ba6.js";import"./react-popper-4d77a87f.js";import"./warning-4834017b.js";import"./react-router-dom-c0e9fbdc.js";import"./react-router-11fb21ef.js";import"./@remix-run-d753ad9e.js";import"./react-redux-0edfc849.js";import"./use-sync-external-store-b3a8aa83.js";import"./lodash-c8b5ff2a.js";import"./jwt-decode-9c18df67.js";import"./nanoid-bef4f1f3.js";import"./@reduxjs-e99b2c47.js";import"./immer-41fd5235.js";import"./redux-5bd193e3.js";import"./redux-thunk-ef899f4c.js";import"./@tanstack-464f39f1.js";R.register(...U);o("div")(({theme:t})=>({display:"flex",flexWrap:"wra,p",alignItems:"center"}));o(E)(()=>({width:"44px !important",height:"44px !important",boxShadow:"none !important"}));o("h3")(({textcolor:t})=>({margin:0,fontWeight:"500",marginLeft:"12px",color:t}));o("h1")(({theme:t})=>({margin:0,flexGrow:1,color:t.palette.text.secondary}));o("div")(({theme:t})=>({width:16,height:16,overflow:"hidden",borderRadius:"300px ",color:"#fff",display:"flex",justifyContent:"center","& .icon":{fontSize:"14px"}}));o("span")(({textcolor:t})=>({fontSize:"13px",color:t,marginLeft:"4px"}));const Q=()=>{const t=A(),a=F(t.breakpoints.down("sm")),[M,C]=h.useState([]),[c,u]=h.useState({nroValidadas:0,nroAnulados:0,totalVentaMes:0});h.useEffect(()=>{(async()=>{const g=await H({limit:1e3,page:1,reverse:!0,query:""}),b=g.docs.map(r=>r.state),v=b.filter(r=>r==="VALIDADA").length,N=b.filter(r=>r==="ANULADO").length;u({nroValidadas:v,nroAnulados:N,totalVentaMes:0});const d={};let x=0;g.docs.forEach(r=>{const{usucre:l,fechaEmision:j,montoTotalMoneda:y}=r,B=T(j);d[l]||(d[l]=Array(12).fill(0)),d[l][B-1]+=y,x+=y});const L=Object.entries(d).map(([r,l])=>({usuario:r,ventasMensuales:l}));C(L),u(r=>({...r,totalVentaMes:x}))})()},[]);function T(i){const n=i.split("/");return parseInt(n[1],10)}function w(i){return["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][i-1]}const S=Array.from({length:12},(i,n)=>w(n+1)),z=M.map((i,n)=>({label:i.usuario,data:i.ventasMensuales,fill:!1,borderColor:Z(n),tension:.1,backgroundColor:_(n)})),D={labels:S,datasets:z},{palette:f}=A();return f.error.main,k(f.error.main,.85),m(p,{container:!0,spacing:3,sx:{mb:"24px"},children:[e(p,{item:!0,xs:12,children:e(P,{component:W,children:m(I,{children:[e(O,{children:m(V,{children:[e(s,{align:"center",children:"Nro. Validadas"}),e(s,{align:"center",children:"Nro. Anulados"}),e(s,{align:"center",children:"Subtotal"})]})}),e(G,{children:m(V,{children:[e(s,{align:"center",children:c.nroValidadas}),e(s,{align:"center",children:c.nroAnulados}),e(s,{align:"center",children:c.nroValidadas-c.nroAnulados})]})})]})})}),m(p,{item:!0,xs:12,children:[e("h3",{children:"Ventas por Mes"}),e(J,{elevation:3,sx:{p:2,height:a?300:"auto"},children:e(q,{title:"Ventas por Mes",data:D,width:a?450:300,height:a?350:100})})]})]})};function Z(t){const a=["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"];return a[t%a.length]}function _(t){const a=["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"];return a[t%a.length]}const K=o("div")(({theme:t})=>({margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}));o("span")(()=>({fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}));o("span")(({theme:t})=>({fontSize:"0.875rem",color:t.palette.text.secondary}));o("h4")(({theme:t})=>({fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:t.palette.text.secondary}));const te=()=>e(h.Fragment,{children:e(K,{className:"analytics",children:e(p,{container:!0,spacing:3,children:e(p,{item:!0,lg:12,md:12,sm:12,xs:12,children:e(Q,{})})})})});export{te as default};
