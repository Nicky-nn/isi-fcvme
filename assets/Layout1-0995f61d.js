import{aA as N,j as e,b8 as ue,b9 as ge,bx as xe,bb as fe,F as k,a as n,ba as be,f as $,ay as q,aO as ye,ai as Q,b3 as ve,O as R,W as I,by as Se,aQ as Ce,U as we,_ as Te,$ as Ie,a1 as Ne,P as V,au as c,Z as ke,aC as C,a6 as Re,af as Le,ag as Be,e as Ae,b as De,T as A,ab as O,aN as Ee,bz as Oe,bd as Pe,bA as Me,bB as ze,a5 as $e,as as T,bC as He,u as Ve,aB as m,bD as H,bu as S,bv as ne,ak as _e,a2 as Fe,al as _,bE as Ge,bF as ae,az as ie,bG as We,N as je,a4 as re,bH as Ue,bI as qe,b6 as Qe,bJ as Xe,bK as Ye,Q as D}from"./@mui-94e45ada.js";import{S as F}from"./react-perfect-scrollbar-bb83dbf7.js";import{r as g,e as w}from"./react-19ede8c0.js";import{A as se,u as G,t as B,j as v,p as Je,k as Ke,m as Ze,q as et,r as X}from"./index-a032e14e.js";import{A as tt,a as ot}from"./AlertLoading-3592644c.js";import{s as nt,a as at,b as it}from"./swal-6db6c20f.js";import{g as ce,G as le}from"./graphql-request-396d023b.js";import{e as rt}from"./@tanstack-464f39f1.js";import{S as L,P as W,a as Y,b as st}from"./Typography-c4fd38d1.js";import{N as ct,L as de}from"./react-router-dom-c0e9fbdc.js";import{c as J}from"./clsx-1229b3e0.js";import{b as lt,O as K}from"./react-router-11fb21ef.js";import"./react-is-e5978b8b.js";import"./@emotion-01c0502c.js";import"./hoist-non-react-statics-6e7e3bdb.js";import"./@babel-41a3dc83.js";import"./stylis-79144faa.js";import"./react-transition-group-07c33d75.js";import"./react-dom-308b05ff.js";import"./scheduler-765c72db.js";import"./@popperjs-f3391c26.js";import"./jss-4560bbb1.js";import"./is-in-browser-9e40da8a.js";import"./jss-plugin-rule-value-function-275843d2.js";import"./jss-plugin-global-96037998.js";import"./jss-plugin-nested-279c4525.js";import"./jss-plugin-camel-case-92f9f32c.js";import"./hyphenate-style-name-80972348.js";import"./jss-plugin-default-unit-80d6b696.js";import"./jss-plugin-vendor-prefixer-711b305d.js";import"./css-vendor-f41dfb6e.js";import"./jss-plugin-props-sort-0c9fca2f.js";import"./prop-types-082dc46a.js";import"./perfect-scrollbar-233be210.js";import"./rc-input-number-5ce3f958.js";import"./classnames-e62508ea.js";import"./rc-util-f84322a6.js";import"./@rc-component-9042d6d8.js";/* empty css                     */import"./react-toastify-ac6b7c37.js";import"./react-datepicker-b19bab85.js";import"./date-fns-66b136a8.js";import"./react-onclickoutside-a7243ba6.js";import"./react-popper-4d77a87f.js";import"./warning-4834017b.js";import"./react-redux-0edfc849.js";import"./use-sync-external-store-b3a8aa83.js";import"./lodash-c8b5ff2a.js";import"./jwt-decode-9c18df67.js";import"./nanoid-bef4f1f3.js";import"./@reduxjs-e99b2c47.js";import"./immer-41fd5235.js";import"./redux-5bd193e3.js";import"./redux-thunk-ef899f4c.js";import"./@remix-run-d753ad9e.js";import"./form-data-c8368213.js";import"./extract-files-b993d67a.js";import"./graphql-9eaaa955.js";import"./cross-fetch-ff4a750f.js";import"./sweetalert2-b5adf0ab.js";const j=55,dt="auto",E=260,pe=80,pt=ce`
  query MI_RESTRICCION {
    usuarioRestriccion {
      sucursales {
        codigo
        telefono
        direccion
        departamento {
          codigo
          codigoPais
          sigla
          departamento
        }
        municipio
        puntosVenta {
          codigo
          tipoPuntoVenta {
            codigoClasificador
            descripcion
          }
          nombre
          descripcion
        }
      }
    }
  }
`,mt=async()=>{const t=new le("https://sandbox.isipass.net/api"),o=localStorage.getItem(se);return t.setHeader("authorization",`Bearer ${o}`),(await t.request(pt)).usuarioRestriccion},ht=ce`
  mutation CAMBIAR_SUCURSAL_PUNTO_VENTA_ACTIVO(
    $codigoSucursal: Int!
    $codigoPuntoVenta: Int!
  ) {
    usuarioCambiarSucursalPuntoVentaActivo(
      codigoSucursal: $codigoSucursal
      codigoPuntoVenta: $codigoPuntoVenta
    ) {
      nombres
      restriccionActivo {
        codigoSucursal
        codigoPuntoVenta
      }
    }
  }
`,ut=async({codigoSucursal:t,codigoPuntoVenta:o})=>{const a=new le("https://sandbox.isipass.net/api"),r=localStorage.getItem(se);return a.setHeader("authorization",`Bearer ${r}`),(await a.request(ht,{codigoSucursal:t,codigoPuntoVenta:o})).usuarioCambiarSucursalPuntoVentaActivo},gt=N(t=>e(ue,{disableGutters:!0,elevation:0,square:!0,...t}))(({theme:t})=>({border:`1px solid ${t.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"& .MuiAccordionDetails-root":{paddingTop:5,paddingLeft:16,paddingRight:16,paddingBottom:10}})),xt=N(t=>e(ge,{expandIcon:e(xe,{sx:{fontSize:"0.9rem"}}),...t}))(({theme:t})=>({backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}})),ft=N(fe)(({theme:t})=>({padding:t.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"})),bt=N("div")(({theme:t})=>({backgroundColor:t.palette.background.default})),yt=t=>{const[o,a]=g.useState(!1),{user:r}=G(),{data:s,isError:i,error:l,isLoading:x,isFetching:d}=rt(["restriccionUsuario"],async()=>(await mt()).sucursales,{keepPreviousData:!0}),h=p=>(u,b)=>{a(b?p:!1)},f=async(p,u)=>{await nt({text:"¿Confirma que desea cambiar de Sucursal / Punto Venta?",preConfirm:()=>ut({codigoSucursal:p,codigoPuntoVenta:u}).catch(b=>(at(b),!1))}).then(b=>{b.isConfirmed&&(it(),setTimeout(()=>{window.location.reload()},1))})};return i?e(tt,{mensaje:l&&l.message}):e(k,{children:x?e(ot,{}):s.map(p=>e(w.Fragment,{children:n(gt,{expanded:o===p.codigo,onChange:h(p.codigo),TransitionProps:{unmountOnExit:!0},children:[e(xt,{"aria-controls":"panel1d-content",expandIcon:e(be,{}),children:n($,{children:[n("strong",{children:["SUCURSAL ",p.codigo]})," / ",p.departamento.departamento," ","- ",p.municipio," / ",p.direccion," / ",p.telefono]})}),e(ft,{children:e(q,{container:!0,children:e(q,{item:!0,xs:12,md:12,children:e(bt,{children:e(ye,{dense:!0,children:p.puntosVenta.map(u=>n(w.Fragment,{children:[e(Q,{component:"li",variant:"fullWidth"}),n(ve,{secondaryAction:!(r.sucursal.codigo===p.codigo&&r.puntoVenta.codigo===u.codigo)&&e(R,{title:"¿Cambiar Punto Venta?",placement:"top",children:e(I,{onClick:()=>f(p.codigo,u.codigo),color:"success","aria-label":"select",children:e(Se,{fontSize:"large"})})}),children:[e(Ce,{primary:n($,{children:[n("strong",{children:["PUNTO VENTA ",u.codigo]})," / ",u.nombre," "]})}),e(Q,{})]})]},u.codigo))})})})})})]})},p.codigo))})},vt=t=>{const{onClose:o,open:a,...r}=t;return e(k,{children:n(we,{sx:{"& .MuiDialog-paper":{width:"100%",maxHeight:500}},maxWidth:"lg",open:a,...r,children:[e(Te,{children:"Cambiar Sucursal / Punto Venta"}),e(Ie,{dividers:!0,children:e(yt,{})}),e(Ne,{children:e(V,{autoFocus:!0,color:"error",size:"small",variant:"contained",onClick:()=>{o()},sx:{mr:2},children:"Cerrar"})})]})})},St=c(I)(({theme:t})=>({color:t.palette.text.primary})),Ct=c("div")(()=>({top:0,zIndex:96,transition:"all 0.3s ease",boxShadow:B[5],height:dt})),wt=c(ke)(({theme:t})=>({padding:0,paddingLeft:0,paddingRight:0,height:"100%",display:"flex",alignItems:"center",background:t.palette.primary.primary,borderRadius:0,justifyContent:"space-between"})),Tt=()=>{const t=C(),[o,a]=g.useState(!1),{logout:r,user:s}=G(),i=()=>{a(!0)};return n(k,{children:[e(Ct,{children:e(wt,{children:e(Re,{component:"div",style:{paddingLeft:15,paddingRight:15,borderRadius:0,background:"transparent"},children:n(Le,{sx:{minWidth:800},size:"small",children:[e(Be,{}),e(Ae,{children:n(De,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e(A,{sx:{minWidth:200,maxWidth:400},children:e($,{variant:"body2",color:"error",fontSize:15,style:{fontWeight:500},children:s.razonSocial})}),n(A,{align:"left",sx:{width:270},children:[e(R,{title:s.sucursal.direccion,children:e(O,{icon:e(Ee,{}),color:"success",label:e(k,{children:n("strong",{children:["Sucursal ",s.sucursal.codigo]})}),variant:"outlined"})})," ",e(R,{title:s.puntoVenta.nombre,children:e(O,{icon:e(Oe,{}),color:"success",label:e(k,{children:n("strong",{children:["Punto Venta ",s.puntoVenta.codigo]})}),variant:"outlined"})})]}),e(A,{align:"left",sx:{width:180},children:e(R,{title:"Moneda general",children:e(O,{icon:e(Pe,{}),label:n(k,{children:["Moneda ",e("strong",{children:s.monedaTienda.sigla})]}),variant:"outlined"})})}),e(A,{align:"left",sx:{width:60},children:e(R,{title:"Cambiar Sucursal / PuntoVenta",leaveDelay:50,children:e(St,{color:"success",onClick:i,theme:t,"aria-label":"Cambiar Sucursal / Punto Venta",style:{padding:0,margin:0},children:e(Me,{fontSize:"large"})})})}),e(A,{align:"left",sx:{width:60},children:e(R,{title:`Ambiente ${s.miEmpresa.codigoAmbiente===1?"PRODUCCIÓN":"PILOTO"}`,leaveDelay:50,children:e(I,{color:s.miEmpresa.codigoAmbiente===1?"success":"warning",style:{padding:0,margin:0},children:e(ze,{fontSize:"large"})})})})]})})]})})})}),e(vt,{id:"CuentaRestriccion",keepMounted:!0,open:o,onClose:()=>{a(!1)}})]})},P=w.memo(Tt),It=c($e)(()=>({display:"flex",alignItems:"center",minHeight:j,"@media (max-width: 499px)":{display:"table",width:"100%",minHeight:"auto",padding:"1rem 0","& .container":{flexDirection:"column !important","& a":{margin:"0 0 16px !important"}}}})),Nt=c("div")(()=>({display:"flex",alignItems:"center",padding:"0px 1rem",maxWidth:"1170px",margin:"0 auto"})),M=()=>{const t=C(),{settings:o}=v(),a=o.themes[o.footer.theme]||t;return e(T,{theme:a,children:e(He,{color:"primary",position:"static",sx:{zIndex:96},children:e(It,{children:n(Nt,{sx:{textAlign:"center"},children:[e(L,{sx:{m:"auto"}}),n(W,{sx:{m:0},children:["ISI.INVOICE es desarrollado por ",e("a",{href:"https://integrate.com.bo",target:"_blank",rel:"noreferrer",children:"INTEGRATE IT Solutions"})," ",e("br",{}),"Todos los derechos reservados © ",new Date().getFullYear()]})]})})})})},kt=({children:t})=>{const o=Ve(),{settings:a}=v(),r=a.themes[a.layout1Settings.leftSidebar.theme]||o;return e(T,{theme:r,children:t})},Rt=c(m)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 18px 20px 29px"})),Lt=c(L)(({theme:t,mode:o})=>({fontSize:18,marginLeft:".5rem",display:o==="compact"?"none":"block"})),Bt=({children:t})=>{const{settings:o}=v(),a=o.layout1Settings.leftSidebar,{mode:r}=a;return n(Rt,{children:[n(m,{display:"flex",alignItems:"center",children:[e("img",{src:"/assets/images/logo_dark.png",style:{height:30,marginTop:-15},alt:""}),e(Lt,{mode:r,className:"sidenavHoverShow",children:"ISI.INVOICE"})]}),e(m,{className:"sidenavHoverShow",sx:{display:r==="compact"?"none":"block"},children:t||null})]})},At={gestion:"/proveedor/gestion",nuevo:"/proveedor/nuevo",modificar:"/proveedor/modificar"},Dt=[{name:"Página Principal",path:"/Inicio",icon:"home"},{name:"SEGURIDAD",label:"TRANSACCIONES",type:"label"},{name:"Facturacion ICE",icon:"point_of_sale",children:[{name:"Registrar Compra / Venta",iconText:"ALRE",path:"/ventas/registro"},{name:"Gestión de Compra / Ventas",iconText:"ALGE",path:"/ventas/gestion"}]},{name:"Servicios",icon:"storefront_sharp",children:[{name:"Gestión de Servicios",iconText:"GP",path:Je.gestion},{name:"Proveedores",iconText:"PR",path:At.gestion}]},{name:"Clientes",icon:"person_sharp",badge:{value:"",color:"secondary"},children:[{name:"Gestión de clientes",path:"/clientes/gestion",iconText:"GC"}]},{name:"Reportes",icon:"trending_up",children:[{name:"Echarts",path:"/charts/echarts",iconText:"E"}]},{name:"Documentación",icon:"launch",type:"extLink",path:"http://demos.ui-lib.com/matx-react-doc/"}],Et=c("div")(({theme:t})=>({"& .expandIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(90deg)"},"& .collapseIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(0deg)"},"& .expansion-panel":{overflow:"hidden",transition:"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)"},"& .highlight":{background:t.palette.primary.main},"&.compactNavItem":{width:44,overflow:"hidden",justifyContent:"center !important","& .itemText":{display:"none"},"& .itemIcon":{display:"none"}}})),Ot=c(H)(({theme:t})=>({height:44,width:"100%",whiteSpace:"pre",overflow:"hidden",paddingRight:"16px",borderRadius:"4px",marginBottom:"8px",display:"flex",justifyContent:"space-between !important",color:t.palette.text.primary,"&:hover":{background:"rgba(255, 255, 255, 0.08)"},"& .icon":{width:36,fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}})),Pt=c("div")(({theme:t})=>({width:4,height:4,color:"inherit",overflow:"hidden",marginLeft:"20px",marginRight:"8px",borderRadius:"300px !important",background:t.palette.text.primary})),Mt=c("span")(()=>({fontSize:"0.875rem",paddingLeft:"0.8rem",verticalAlign:"middle"})),zt=c("div")(()=>({padding:"1px 4px",overflow:"hidden",borderRadius:"300px"})),$t=({item:t,children:o,mode:a})=>{const[r,s]=g.useState(!0),i=g.useRef(null),l=g.useRef(0),{pathname:x}=lt(),{name:d,icon:h,iconText:f,badge:p}=t,u=()=>{l.current=0,b(i.current),s(!r)},b=g.useCallback(y=>{if(y.name!=="child")for(let U of y.children)b(U);y.name==="child"?l.current+=y.scrollHeight:l.current+=44},[]);return g.useEffect(()=>{if(i){b(i.current);for(let y of i.current.children)y.getAttribute("href")===x&&s(!1)}},[x,b]),n(Et,{children:[n(Ot,{className:J({"has-submenu compactNavItem":!0,compactNavItem:a==="compact",open:!r}),onClick:u,children:[n(m,{display:"flex",alignItems:"center",children:[h&&e(S,{className:"icon",children:h}),f&&e(Pt,{}),e(Mt,{className:"sidenavHoverShow",children:d})]}),p&&e(zt,{className:"sidenavHoverShow itemIcon",children:p.value}),e("div",{className:J({sidenavHoverShow:!0,collapseIcon:r,expandIcon:!r}),children:e(S,{fontSize:"small",sx:{verticalAlign:"middle"},children:"chevron_right"})})]}),e("div",{ref:i,className:"expansion-panel submenu",style:r?{maxHeight:"0px"}:{maxHeight:l.current+"px"},children:o})]})},Ht=c(W)(({theme:t,mode:o})=>({fontSize:"12px",marginTop:"20px",marginLeft:"15px",marginBottom:"10px",textTransform:"uppercase",display:o==="compact"&&"none",color:t.palette.text.secondary})),me={display:"flex",overflow:"hidden",borderRadius:"4px",height:44,whiteSpace:"pre",marginBottom:"8px",textDecoration:"none",justifyContent:"space-between",transition:"all 150ms ease-in","&:hover":{background:"rgba(255, 255, 255, 0.08)"},"&.compactNavItem":{overflow:"hidden",justifyContent:"center !important"},"& .icon":{fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}},Vt=c("a")(({theme:t})=>({...me,color:t.palette.text.primary})),_t=c(m)(({theme:t})=>({"& a":{...me,color:t.palette.text.primary},"& .navItemActive":{backgroundColor:"rgba(255, 255, 255, 0.16)"}})),Z=c(L)(({mode:t})=>({fontSize:"0.875rem",paddingLeft:"0.8rem",display:t==="compact"&&"none"})),Ft=c("div")(({theme:t})=>({padding:"2px",marginLeft:"24px",marginRight:"8px",overflow:"hidden",borderRadius:"300px",background:t.palette.text.primary})),ee=c("div")(()=>({padding:"1px 8px",overflow:"hidden",borderRadius:"300px"})),Gt=({items:t})=>{const{settings:o}=v(),{mode:a}=o.layout1Settings.leftSidebar,r=s=>s.map((i,l)=>i.type==="label"?e(Ht,{mode:a,className:"sidenavHoverShow",children:i.label},l):i.children?e($t,{mode:a,item:i,children:r(i.children)},l):i.type==="extLink"?e(Vt,{href:i.path,className:`${a==="compact"&&"compactNavItem"}`,rel:"noopener noreferrer",target:"_blank",children:n(H,{name:"child",sx:{width:"100%"},children:[(()=>i.icon?e(S,{className:"icon",children:i.icon}):e("span",{className:"item-icon icon-text",children:i.iconText}))(),e(Z,{mode:a,className:"sidenavHoverShow",children:i.name}),e(m,{mx:"auto"}),i.badge&&e(ee,{children:i.badge.value})]},i.name)},l):e(_t,{children:e(ct,{to:i.path,className:({isActive:x})=>x?`navItemActive ${a==="compact"&&"compactNavItem"}`:`${a==="compact"&&"compactNavItem"}`,children:n(H,{name:"child",sx:{width:"100%"},children:[i!=null&&i.icon?e(S,{className:"icon",sx:{width:36},children:i.icon}):n(g.Fragment,{children:[e(Ft,{className:"nav-bullet",sx:{display:a==="compact"&&"none"}}),e(m,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:a!=="compact"?"none":"compact"},children:i.iconText})]}),e(Z,{mode:a,className:"sidenavHoverShow",children:i.name}),e(m,{mx:"auto"}),i.badge&&e(ee,{className:"sidenavHoverShow",children:i.badge.value})]},i.name)})},l));return e("div",{className:"navigation",children:r(t)})},Wt=w.memo(Gt),jt=c(F)(()=>({paddingLeft:"1rem",paddingRight:"1rem",position:"relative"})),Ut=c("div")(({theme:t})=>({position:"fixed",top:0,left:0,bottom:0,right:0,width:"100vw",background:"rgba(0, 0, 0, 0.54)",zIndex:-1,[t.breakpoints.up("lg")]:{display:"none"}})),qt=({children:t})=>{const{settings:o,updateSettings:a}=v(),r=s=>{let i=o.activeLayout+"Settings",l=o[i];a({...o,[i]:{...l,leftSidebar:{...l.leftSidebar,...s}}})};return n(g.Fragment,{children:[n(jt,{options:{suppressScrollX:!0},children:[t,e(Wt,{items:Dt})]}),e(Ut,{onClick:()=>r({mode:"close"})})]})},Qt=c(m)(({theme:t,width:o,primarybg:a,bgimgurl:r})=>({position:"fixed",top:0,left:0,height:"100vh",width:o,boxShadow:B[8],backgroundRepeat:"no-repeat",backgroundPosition:"top",backgroundSize:"cover",zIndex:111,overflow:"hidden",color:t==null?void 0:t.palette.text.primary,transition:"all 250ms ease-in-out",backgroundImage:`linear-gradient(to bottom, rgba(${a}, 0.96), rgba(${a}, 0.96)), url(${r})`,"&:hover":{width:E,"& .sidenavHoverShow":{display:"block"},"& .compactNavItem":{width:"100%",maxWidth:"100%","& .nav-bullet":{display:"block"},"& .nav-bullet-text":{display:"none"}}}})),Xt=c(m)(()=>({height:"100%",display:"flex",flexDirection:"column"})),Yt=()=>{const t=C(),{settings:o,updateSettings:a}=v(),r=o.layout1Settings.leftSidebar,{mode:s,bgImgURL:i}=r,l=()=>{switch(s){case"compact":return pe;default:return E}},x=Ke(t.palette.primary.main),d=f=>{a({layout1Settings:{leftSidebar:{...f}}})},h=()=>{d({mode:s==="compact"?"full":"compact"})};return e(Qt,{bgimgurl:i,primarybg:x,width:l(),children:n(Xt,{children:[e(Bt,{children:e(ne,{smDown:!0,children:e(_e,{onChange:h,checked:r.mode!=="full",color:"secondary",size:"small"})})}),e(qt,{})]})})},Jt=w.memo(Yt),Kt=(t,o)=>{switch(o.type){case"LOAD_NOTIFICATIONS":return{...t,notifications:o.payload};case"DELETE_NOTIFICATION":return{...t,notifications:o.payload};case"CLEAR_NOTIFICATIONS":return{...t,notifications:o.payload};default:return{...t}}},he=g.createContext({notifications:[],deleteNotification:()=>{},clearNotifications:()=>{},getNotifications:()=>{},createNotification:()=>{}}),Zt=({settings:t,children:o})=>{const[a,r]=g.useReducer(Kt,[]),s=async d=>{},i=async()=>{},l=async()=>{},x=async d=>{};return g.useEffect(()=>{l().then()},[]),e(he.Provider,{value:{notifications:a.notifications,deleteNotification:s,clearNotifications:i,getNotifications:l,createNotification:x},children:o})},eo=(t,o)=>{switch(o.type){case"LOAD_THEME_COLOR":return{...t,themeColor:o.payload};case"SET_THEME_COLOR":return{...t,themeColor:o.payload};default:return{...t}}},to=g.createContext({themeColor:"",setThemeColorBar:()=>{},getThemeColorBar:()=>{}}),oo=({settings:t,children:o})=>{const[a,r]=g.useReducer(eo,[]),s=async()=>{try{r({type:"LOAD_THEME_COLOR",payload:"blue"})}catch(l){console.error(l)}},i=async l=>{try{r({type:"SET_THEME_COLOR",payload:l})}catch(x){console.error(x)}};return g.useEffect(()=>{(async()=>{await s()})().catch(x=>console.log(x))},[]),e(to.Provider,{value:{themeColor:a.themeColor,setThemeColorBar:i,getThemeColorBar:s},children:o})},no=c(m)(({theme:t})=>({display:"inline-block",color:t.palette.text.primary,"& div:hover":{backgroundColor:t.palette.action.hover}})),ao=t=>{const[o,a]=w.useState(null),r=w.Children.toArray(t.children);let{shouldCloseOnItemClick:s=!0,horizontalPosition:i="left"}=t;const{settings:l}=v(),x=h=>{a(h.currentTarget)},d=()=>{a(null)};return n(g.Fragment,{children:[e(no,{onClick:x,children:t.menuButton}),e(T,{theme:l.themes[l.activeTheme],children:e(Fe,{elevation:8,anchorEl:o,open:!!o,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:i},transformOrigin:{vertical:"top",horizontal:i},children:r.map((h,f)=>e("div",{onClick:s?d:()=>{},children:h},f))})})]})},io=()=>g.useContext(he),ro=c("div")(()=>({padding:"16px",marginBottom:"16px",display:"flex",alignItems:"center",height:j,boxShadow:B[6],"& h5":{marginLeft:"8px",marginTop:0,marginBottom:0,fontWeight:"500"}})),so=c(m)(({theme:t})=>({position:"relative","&:hover":{"& .messageTime":{display:"none"},"& .deleteButton":{opacity:"1"}},"& .messageTime":{color:t.palette.text.secondary},"& .icon":{fontSize:"1.25rem"}})),co=c(I)(({theme:t})=>({opacity:"0",position:"absolute",right:5,marginTop:9,marginRight:"24px",background:"rgba(0, 0, 0, 0.01)"})),lo=c("div")(({theme:t})=>({padding:"12px 8px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"rgba(0, 0, 0, 0.01)","& small":{fontWeight:"500",marginLeft:"16px",color:t.palette.text.secondary}})),po=c("span")(({theme:t})=>({fontWeight:"500",marginLeft:"16px",color:t.palette.text.secondary})),mo=({container:t})=>{const{settings:o}=v(),r=C().palette.text.secondary,[s,i]=g.useState(!1),{deleteNotification:l,clearNotifications:x,notifications:d}=io(),h=()=>{i(!s)},{palette:f}=C(),p=f.text.primary;return n(g.Fragment,{children:[e(I,{onClick:h,children:e(_,{color:"secondary",badgeContent:d==null?void 0:d.length,children:e(Ge,{sx:{color:p},children:"notifications"})})}),e(T,{theme:o.themes[o.activeTheme],children:e(ae,{style:{width:"100px"},container:t,variant:"temporary",anchor:"right",open:s,onClose:h,ModalProps:{keepMounted:!0},children:n(m,{sx:{width:E},children:[n(ro,{children:[e(S,{color:"primary",children:"notifications"}),e("h5",{children:"Notifications"})]}),d==null?void 0:d.map(u=>n(so,{children:[e(co,{size:"small",className:"deleteButton",onClick:()=>l(u.id),children:e(S,{className:"icon",children:"clear"})}),e(de,{to:`/${u.path}`,onClick:h,style:{textDecoration:"none"},children:n(ie,{sx:{mx:2,mb:3},elevation:3,children:[n(lo,{children:[n(m,{display:"flex",children:[e(S,{className:"icon",color:u.icon.color,children:u.icon.name}),e(po,{children:u.heading})]}),n(Y,{className:"messageTime",children:[Ze(new Date(u.timestamp)),"ago"]})]}),n(m,{sx:{px:2,pt:1,pb:2},children:[e(W,{sx:{m:0},children:u.title}),e(Y,{sx:{color:r},children:u.subtitle})]})]})})]},u.id)),!!(d!=null&&d.length)&&e(m,{sx:{color:r},children:e(V,{onClick:x,children:"Vaciar Notificaciones"})})]})})})]})},ho=c(_)(()=>({top:"0",right:"0",height:"32px",width:"32px",borderRadius:"50%"})),uo=c("div")(({theme:t})=>({height:"100vh",width:320,position:"fixed",top:0,right:0,zIndex:50,display:"flex",flexDirection:"column",paddingBottom:"32px",boxShadow:B[12],background:t.palette.background.default,"& .helpText":{margin:"0px .5rem 1rem"}})),go=c(ho)(()=>({width:"100%",height:"152px !important",cursor:"pointer",marginTop:"12px",marginBottom:"12px","& .layout-name":{display:"none"},"&:hover .layout-name":{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",background:"rgba(0,0,0,0.3)",zIndex:12}})),xo=c("div")(()=>({minHeight:58,padding:"14px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px",boxShadow:B[6]})),fo=c("img")(()=>({width:"100%"})),bo=c(F)(()=>({paddingLeft:"16px",paddingRight:"16px"})),yo=({container:t})=>{const[o,a]=g.useState(!1),[r,s]=g.useState(0),{settings:i,updateSettings:l}=v(),d=C().palette.text.secondary,h=()=>{a(!o)},f=()=>{a(!o)};let p={...i.themes[i.activeTheme]};const{palette:u}=C(),b=u.text.primary;return n(g.Fragment,{children:[e(I,{onClick:f,children:e(_,{color:"secondary",children:e(We,{sx:{color:b}})})}),e(T,{theme:p,children:e(ae,{anchor:"right",open:o,variant:"temporary",onClose:h,ModalProps:{keepMounted:!0},children:n(uo,{children:[n(xo,{children:[n(m,{display:"flex",children:[e(S,{className:"icon",color:"primary",children:"settings"}),e(st,{sx:{ml:1,fontSize:"1rem"},children:"Opciones de Tema"})]}),e(I,{onClick:h,children:e(S,{className:"icon",children:"close"})})]}),e(bo,{options:{suppressScrollX:!0},children:r===0&&n(m,{sx:{mb:4,mx:3},children:[e(m,{sx:{color:d},children:"Layouts"}),e(m,{display:"flex",flexDirection:"column",children:vo.map(y=>e(go,{color:"secondary",badgeContent:"Pro",invisible:!y.isPro,children:n(ie,{sx:{position:"relative"},onClick:()=>l(y.options),elevation:4,children:[e(m,{sx:{overflow:"hidden"},className:"layout-name",children:e(V,{variant:"contained",color:"secondary",children:y.name})}),e(fo,{src:y.thumbnail,alt:y.name})]})},y.name))})]})})]})})})]})},vo=[{name:"Tema Claro",thumbnail:"/assets/images/screenshots/layout1-customizer.png",isPro:!1,options:{activeLayout:"layout1",activeTheme:"blue",layout1Settings:{leftSidebar:{mode:"full",theme:"whiteBlue",bgOpacity:.98},topbar:{theme:"blueDark",fixed:!0}},footer:{theme:"slateDark1"}}},{name:"Tema Compacto",thumbnail:"/assets/images/screenshots/layout5-customizer.png",isPro:!1,options:{activeLayout:"layout1",activeTheme:"blue",layout1Settings:{leftSidebar:{mode:"compact",theme:"slateDark1",bgOpacity:.92},topbar:{theme:"whiteBlue",fixed:!0}}}},{name:"Tema Oscuro",thumbnail:"/assets/images/screenshots/layout1-blue-customizer.png",isPro:!1,options:{activeLayout:"layout1",activeTheme:"blue",layout1Settings:{leftSidebar:{mode:"full",theme:"slateDark1",bgOpacity:.92},topbar:{theme:"blueDark",fixed:!0}}}}],te=c(I)(({theme:t})=>({color:t.palette.text.primary})),So=c("div")(({theme:t})=>({top:0,zIndex:96,transition:"all 0.3s ease",boxShadow:B[8],height:j})),Co=c(m)(({theme:t})=>({padding:"8px",paddingLeft:18,paddingRight:20,height:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",background:t.palette.primary.main,[t.breakpoints.down("sm")]:{paddingLeft:16,paddingRight:16},[t.breakpoints.down("xs")]:{paddingLeft:14,paddingRight:16}})),wo=c(m)(()=>({display:"flex",alignItems:"center",cursor:"pointer",borderRadius:24,padding:4,"& span":{margin:"0 8px"}})),oe=c(je)(({theme:t})=>({display:"flex",alignItems:"center",minWidth:185,"& a":{width:"100%",display:"flex",alignItems:"center",textDecoration:"none"},"& span":{marginRight:"10px",color:t.palette.text.primary}})),To=c("div")(({theme:t})=>({display:"inherit",[t.breakpoints.down("md")]:{display:"none !important"}})),Io=()=>{const t=C(),{settings:o,updateSettings:a}=v(),{logout:r,user:s}=G(),i=re(t.breakpoints.down("md")),l=d=>{a({layout1Settings:{leftSidebar:{...d}}})};return e(So,{children:n(Co,{children:[n(m,{display:"flex",children:[e(te,{onClick:()=>{let{layout1Settings:d}=o,h;i?h=d.leftSidebar.mode==="close"?"mobile":"close":h=d.leftSidebar.mode==="full"?"close":"full",l({mode:h})},children:e(Ue,{children:"Menu"})}),e(To,{children:e(te,{children:e(qe,{children:"mail_outline"})})})]}),n(m,{display:"flex",alignItems:"center",children:[e(Zt,{children:e(mo,{})}),e(oo,{children:e(yo,{})}),n(ao,{menuButton:n(wo,{children:[e(ne,{xsDown:!0,children:n(L,{children:["Hola ",e("strong",{children:s.nombres})]})}),e(Qe,{src:s.avatar,sx:{cursor:"pointer"}})]}),children:[e(oe,{children:n(de,{to:et.cuenta,children:[e(Xe,{children:" settings "}),"   ",e(L,{children:" Opciones "})]})}),n(oe,{onClick:()=>r(),children:[e(Ye,{children:" power_settings_new "}),"   ",e(L,{children:" Cerrar Sesión "})]})]})]})]})})},z=w.memo(Io),No=N(D)(({theme:t})=>({display:"flex",background:t.palette.background.default})),ko=N(D)(()=>({height:"100%",display:"flex",overflowY:"auto",overflowX:"hidden",flexDirection:"column",justifyContent:"space-between"})),Ro=N(F)(()=>({height:"100%",position:"relative",display:"flex",flexGrow:"1",flexDirection:"column"})),Lo=N(D)(({width:t,secondary_sidebar:o})=>({height:"100vh",display:"flex",flexGrow:"1",flexDirection:"column",verticalAlign:"top",marginLeft:t,position:"relative",overflow:"hidden",transition:"all 0.3s ease",marginRight:o.open?50:0})),Bo=()=>{const{settings:t,updateSettings:o}=v(),{layout1Settings:a,secondarySidebar:r}=t,s=t.themes[a.topbar.theme],{leftSidebar:{mode:i,show:l}}=a,d=(()=>{switch(i){case"full":return E;case"compact":return pe;default:return"0px"}})(),h=C(),f=re(h.breakpoints.down("md")),p=g.useRef({isMdScreen:f,settings:t}),u=`theme-${h.palette.type}`;return g.useEffect(()=>{let{settings:b}=p.current,y=b.layout1Settings.leftSidebar.mode;b.layout1Settings.leftSidebar.show&&o({layout1Settings:{leftSidebar:{mode:f?"close":y}}})},[f]),n(No,{className:u,children:[l&&i!=="close"&&e(kt,{children:e(Jt,{})}),n(Lo,{width:d,secondary_sidebar:r,children:[a.topbar.show&&a.topbar.fixed&&e(k,{children:n(T,{theme:s,children:[e(z,{fixed:!0,className:"elevation-z8"}),e(P,{fixed:!0,className:"elevation-z8"})]})}),t.perfectScrollbar&&n(Ro,{children:[a.topbar.show&&!a.topbar.fixed&&n(T,{theme:s,children:[e(z,{}),e(P,{})]}),e(D,{flexGrow:1,position:"relative",children:e(X,{children:e(K,{})})}),t.footer.show&&!t.footer.fixed&&e(M,{})]}),!t.perfectScrollbar&&n(ko,{children:[a.topbar.show&&!a.topbar.fixed&&n(T,{theme:s,children:[e(z,{}),e(P,{})]}),e(D,{flexGrow:1,position:"relative",children:e(X,{children:e(K,{})})}),t.footer.show&&!t.footer.fixed&&e(M,{})]}),t.footer.show&&t.footer.fixed&&e(M,{})]})]})},$n=w.memo(Bo);export{$n as default};
