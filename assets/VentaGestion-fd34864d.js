import{bn as De,j as e,a0 as Ee,F as A,a as r,U as V,_ as N,$ as L,ay as C,aL as ve,b4 as be,bo as Me,N as xe,a1 as O,P as w,aF as B,bp as Se,bq as T,ac as ye,M as P,ab as ce,W as Fe,aG as we,aV as Ae,aW as Te,aX as re,br as ze,aB as Ye}from"./@mui-94e45ada.js";import{M as ke}from"./material-react-table-1f8ebe78.js";import{r as i}from"./react-19ede8c0.js";import{S as Ie,A as Re}from"./AuditIconButton-d761f0b1.js";import{S as Pe,B as Ve}from"./Breadcrumb-c4cf427b.js";import{n as U}from"./NumberInput-1ec990a6.js";import{S as Ne,a as I}from"./SimpleMenu-fe44c236.js";import{P as z,l as Le,b as se}from"./localization-3d90e8d6.js";import{A as j,u as Oe,f as G,i as $,v as q,g as Be,o as H,a as $e}from"./index-a032e14e.js";import{m as Ge,d as We}from"./materialReactTableUtils-e433a167.js";import{f as W}from"./factura.listado.api-140e1c24.js";import{Q as F}from"./react-toastify-ac6b7c37.js";import{S as le}from"./sweetalert2-b5adf0ab.js";import{f as Ue,a as K,c as _,s as qe,b as He}from"./swal-6db6c20f.js";import{g as Q,G as X}from"./graphql-request-396d023b.js";import{a3 as J}from"./date-fns-66b136a8.js";import{d as b}from"./dayjs-047a2f87.js";import{e as Y}from"./export-from-json-59a1cb7c.js";import{c as Z}from"./html-to-text-d7bd99d0.js";import{U as ee,X as oe}from"./react-datepicker-b19bab85.js";import{e as Ke}from"./@tanstack-464f39f1.js";import"./react-is-e5978b8b.js";import"./@emotion-01c0502c.js";import"./hoist-non-react-statics-6e7e3bdb.js";import"./@babel-41a3dc83.js";import"./stylis-79144faa.js";import"./react-transition-group-07c33d75.js";import"./react-dom-308b05ff.js";import"./scheduler-765c72db.js";import"./@popperjs-f3391c26.js";import"./jss-4560bbb1.js";import"./is-in-browser-9e40da8a.js";import"./jss-plugin-rule-value-function-275843d2.js";import"./jss-plugin-global-96037998.js";import"./jss-plugin-nested-279c4525.js";import"./jss-plugin-camel-case-92f9f32c.js";import"./hyphenate-style-name-80972348.js";import"./jss-plugin-default-unit-80d6b696.js";import"./jss-plugin-vendor-prefixer-711b305d.js";import"./css-vendor-f41dfb6e.js";import"./jss-plugin-props-sort-0c9fca2f.js";import"./highlight-words-42d92bcd.js";import"./react-router-dom-c0e9fbdc.js";import"./react-router-11fb21ef.js";import"./@remix-run-d753ad9e.js";import"./rc-input-number-5ce3f958.js";import"./classnames-e62508ea.js";import"./rc-util-f84322a6.js";import"./@rc-component-9042d6d8.js";/* empty css                     */import"./react-redux-0edfc849.js";import"./use-sync-external-store-b3a8aa83.js";import"./lodash-c8b5ff2a.js";import"./jwt-decode-9c18df67.js";import"./nanoid-bef4f1f3.js";import"./@reduxjs-e99b2c47.js";import"./immer-41fd5235.js";import"./redux-5bd193e3.js";import"./redux-thunk-ef899f4c.js";import"./clsx-1229b3e0.js";import"./react-onclickoutside-a7243ba6.js";import"./react-popper-4d77a87f.js";import"./warning-4834017b.js";import"./form-data-c8368213.js";import"./extract-files-b993d67a.js";import"./graphql-9eaaa955.js";import"./cross-fetch-ff4a750f.js";import"./@selderee-e13b8226.js";import"./selderee-c33c36f6.js";import"./parseley-4704b79d.js";import"./leac-a32818d6.js";import"./peberminta-b0fadb05.js";import"./domhandler-5bfd46b4.js";import"./domelementtype-6e8d3116.js";import"./htmlparser2-1e077bdb.js";import"./entities-5648a3df.js";import"./deepmerge-016d7e5f.js";import"./dom-serializer-ed2a0b3f.js";const R=De("div")(({theme:t})=>({...t.typography.body2,padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})),je=t=>e(Ee,{justifyContent:"flex-end",mt:1,mb:1,direction:{xs:"column",sm:"row",md:"row",lg:"row"},spacing:{xs:1,sm:2,md:4},children:t.children});function _e(){const t=i.useRef(!1);return i.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),i.useCallback(function(){return t.current},[t])}const Qe=Q`
  query MOTIVO_ANULACION {
    sinMotivoAnulacion {
      codigoClasificador
      descripcion
    }
  }
`,Xe=async()=>{const t=new X("https://sandbox.isipass.net/api"),c=localStorage.getItem(j);return t.setHeader("authorization",`Bearer ${c}`),(await t.request(Qe)).sinMotivoAnulacion},Je=Q`
  mutation ANULAR($cuf: String!, $codigoMotivo: Int!) {
    fcvMonedaExtranjeraAnular(cuf: $cuf, codigoMotivo: $codigoMotivo) {
      cuf
    }
  }
`,Ze=async(t,c)=>{const s=new X("https://sandbox.isipass.net/api"),o=localStorage.getItem(j);return s.setHeader("authorization",`Bearer ${o}`),(await s.request(Je,{cuf:t,codigoMotivo:c})).fcvMonedaExtranjeraAnular},eo=t=>{const{onClose:c,open:s,factura:o,...x}=t;_e();const[h,u]=i.useState([]),[D,f]=i.useState(!1),m={codigoMotivo:null},[g,S]=i.useState(m);i.useEffect(()=>{s&&S(m)},[s]),i.useEffect(()=>{(async()=>{await Xe().then(n=>{u(n||[])})})().then()},[]);const E=()=>{c()},M=async()=>{let d=!0;g.codigoMotivo||(F.error("Seleccione el motivo de la anulación"),d=!1),o!=null&&o.cuf||(F.error("Seleccione el documento"),d=!1),d&&le.fire({...Ue,html:"¿Confirma que desea anular el documento? <br> este proceso no se podra revertir",showLoaderOnConfirm:!0,preConfirm:()=>(f(!0),o==null||o.cuf,g.codigoMotivo,Ze((o==null?void 0:o.cuf)||"",g.codigoMotivo)),allowOutsideClick:()=>!le.isLoading()}).then(n=>{n.isConfirmed&&(F.success("Documento Anulado correctamente"),c(!0),f(!1))}).catch(n=>{n.message.includes("nota de credito debito mal emitida")?(F.error("No se puede anular una factura con nota de crédito débito mal emitida"),K(n),F.error("No se puede anular una factura con nota de crédito débito mal emitida"),f(!1)):(F.error("Ha ocurrido un error"),K(n),f(!1))})};return e(A,{children:r(V,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"sm",open:s,...x,children:[e(N,{children:"Anular Documento"}),e(L,{dividers:!0,children:r(C,{container:!0,spacing:2,children:[r(C,{item:!0,lg:12,md:12,children:["Nro Factura: ",(o==null?void 0:o.numeroFactura)||""," ",e("br",{}),"Cliente: ",(o==null?void 0:o.cliente.razonSocial)||""," ",e("br",{}),"Fecha Emisión: ",(o==null?void 0:o.fechaEmision)||""," ",e("br",{})]}),e(C,{item:!0,lg:12,md:12,children:r(ve,{sx:{width:"100%"},size:"small",children:[e(be,{id:"demo-select-small",children:"Motivo de la anulación"}),e(Me,{labelId:"Motivo de la anulación",value:g.codigoMotivo||"",label:"Motivo de la anulación",onChange:d=>{S({...g,codigoMotivo:parseInt(d.target.value)})},children:h.map(d=>e(xe,{value:d.codigoClasificador,children:d.descripcion},d.codigoClasificador))})]})})]})}),r(O,{children:[e(w,{autoFocus:!0,onClick:E,disabled:D,children:"Cancelar"}),e(B,{onClick:M,loading:D,style:{marginRight:15},children:"Anular Documento"})]})]})})};ee("es",J);const oo=t=>{var E;const{user:c}=Oe(),{onClose:s,open:o,...x}=t,[h,u]=i.useState(!1),[D,f]=i.useState([new Date,new Date]),[m,g]=D,S=async()=>{u(!0);const M=b(m).format("YYYY-MM-DD"),n=`fechaEmision<=${b(g).format("YYYY-MM-DD")} 24:00:00&fechaEmision>=${M} 00:00:00&usucre=${c.usuario}`,p={...z,limit:1e5,reverse:!1,query:n},{docs:y}=await W(p);if(u(!1),y.length>0){const a=y.map(l=>({numeroFactura:l.numeroFactura,fechaEmision:l.fechaEmision,codigoControl:l.cuf,sucursal:l.sucursal.codigo,puntoVenta:l.puntoVenta.codigo,razonSocial:l.cliente.razonSocial,codigoCliente:l.cliente.codigoCliente,numeroDocumento:l.cliente.numeroDocumento,complemento:l.cliente.complemento||"",metodoPago:l.metodoPago.descripcion,montoTotal:l.montoTotal,montoTotalMoneda:l.montoTotalMoneda,moneda:l.moneda.descripcion,detalleExtra:G(Z(l.detalleExtra,{preserveNewlines:!1,wordwrap:null})),estado:l.state,usucre:l.usucre,usuario:l.usuario}));Y({data:a,fileName:"mis_ventas",exportType:Y.types.csv,withBOM:!0})}else _("No se han encontrado registros para el periodo seleccionado")};return i.useEffect(()=>{},[o]),e(A,{children:r(V,{sx:{"& .MuiDialog-paper":{width:"80%",minHeight:300}},maxWidth:"xs",open:o,...x,children:[r(N,{children:["Exportar ventas para el usuario: ",(E=c.usuario)==null?void 0:E.toUpperCase()]}),e(L,{dividers:!0,children:r(C,{container:!0,spacing:2,children:[e(C,{item:!0,sm:12,children:r(Se,{color:"info",children:["Seleccione el periodo (",e("strong",{children:"fecha inicial - fecha final"}),")."," ",e("br",{}),"Para Obtener el reporte de una fecha debe realizar doble click en la fecha selecciona"]})}),e(C,{item:!0,sm:12,children:e(oe,{selectsRange:!0,startDate:m,endDate:g,locale:"es",dateFormat:"dd/MM/yyyy",onChange:M=>{f(M)},isClearable:!0})})]})}),r(O,{children:[e(w,{autoFocus:!0,disabled:h,color:"error",variant:"contained",size:"small",onClick:()=>{s()},children:"Cancelar"}),e(B,{loading:h,disabled:!b(m).isValid()||!b(g).isValid(),onClick:()=>S(),startIcon:e(T,{}),loadingPosition:"start",size:"small",variant:"contained",style:{marginRight:15},children:"Exportar Ventas"})]})]})})},to=Q`
  mutation ALQUI_REENVIAR_EMAIL($cuf: String!, $emails: [String]!) {
    fcvMonedaExtranjeraReenviarEmail(cuf: $cuf, emails: $emails)
  }
`,ao=async t=>{const c=new X("https://sandbox.isipass.net/api"),s=localStorage.getItem(j);return c.setHeader("authorization",`Bearer ${s}`),await c.request(to,t)},no=t=>{const{onClose:c,open:s,factura:o,...x}=t,[h,u]=i.useState(""),[D,f]=i.useState(!1),[m,g]=i.useState([]);i.useEffect(()=>{s&&(u((o==null?void 0:o.cliente.email)||""),g([(o==null?void 0:o.cliente.email)||""]))},[s]);const S=()=>{c()},E=async()=>{let n=!0;o!=null&&o.cuf||(F.error("Seleccione el documento"),n=!1),$(h)&&m.length===0&&(F.error("Debe registrar al menos un correo electrónico"),n=!1);for(const p of m)q(p)||(F.error(`${p} no es un correo electrónico válido`),n=!1);n&&await qe({preConfirm:()=>ao({cuf:o==null?void 0:o.cuf,emails:m}).catch(p=>(K(p),!1))}).then(p=>{p.isConfirmed&&(He(),c(p.value))})},M=()=>{if(!$(h)&&q(h)){const n=h.toLowerCase();m.includes(n)||(g([...m,n]),u(""))}},d=n=>{g(m.filter(p=>p!==n))};return e(A,{children:r(V,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:560}},maxWidth:"sm",open:s,...x,children:[e(N,{children:"Reenviar Notificación de Factura"}),e(L,{dividers:!0,children:r(C,{container:!0,spacing:2,children:[r(C,{item:!0,lg:12,md:12,children:["Nro Factura: ",(o==null?void 0:o.numeroFactura)||""," ",e("br",{}),"Cliente: ",(o==null?void 0:o.cliente.razonSocial)||""," ",e("br",{}),"Fecha Emisión: ",(o==null?void 0:o.fechaEmision)||""," ",e("br",{}),"Código de control CUF: ",(o==null?void 0:o.cuf)||""," ",e("br",{})]}),e(C,{item:!0,lg:12,md:12,children:e(ye,{severity:"info",children:"Para ingresar varios correos electrónicos, escríbalos uno después del otro y sepárelos usando espacios, comas o punto y coma. Por ejemplo: cliente1@correo.com, cliente2@correo.com."})}),e(C,{item:!0,lg:12,md:12,children:e(P,{id:"emails",name:"emails",label:"Ingrese los correos electrónicos",helperText:"El botón se activará cuando ingrese un correo electrónico válido. Recuerde presionar la tecla Enter para agregar el correo electrónico.",size:"small",fullWidth:!0,multiline:!0,rows:2,value:h,onChange:n=>{const p=n.target.value.replace(/[\r\n]+/g,"");u(p)},onKeyDown:n=>{(n.key==="Enter"||n.key===" "||n.key===","||n.key===";")&&!$(h)&&q(h)&&(M(),u(""),n.target.value="",n.preventDefault())}})}),e(C,{item:!0,lg:12,md:12,children:m.map(n=>e(ce,{label:n,onDelete:()=>d(n),color:"primary",variant:"outlined",style:{margin:5}},n))})]})}),r(O,{children:[e(w,{autoFocus:!0,color:"error",size:"small",variant:"contained",onClick:S,disabled:D,children:"Cancelar"}),e(B,{variant:"contained",size:"small",onClick:E,loading:D,style:{marginRight:15},disabled:!$(h),children:"Enviar Notificación"})]})]})})};ee("es",J);const io=t=>{const{onClose:c,open:s,...o}=t,[x,h]=i.useState(!1),[u,D]=i.useState(new Date),[f,m]=i.useState(null),g=E=>{const[M,d]=E;D(M),m(d)},S=async()=>{h(!0);const E=b(u).format("YYYY-MM-DD"),d=`fechaEmision<=${b(f).format("YYYY-MM-DD")} 24:00:00&fechaEmision>=${E} 00:00:00`,n={...z,limit:1e5,reverse:!1,query:d},{docs:p}=await W(n);if(h(!1),p.length>0){const y=[];for(const a of p)a.detalle.map(l=>{y.push({numeroFactura:a.numeroFactura,fechaEmision:a.fechaEmision,cuf:a.cuf,sucursal:a.sucursal.codigo,puntoVenta:a.puntoVenta.codigo,razonSocial:a.cliente.razonSocial,codigoCliente:a.cliente.codigoCliente,numeroDocumento:a.cliente.numeroDocumento,complemento:a.cliente.complemento||"",metodoPago:a.metodoPago.descripcion,nroItem:l.nroItem,actividadEconomica:l.actividadEconomica.codigoCaeb,productoServicio:l.productoServicio.descripcionProducto,detalleExtra:G(Be(l.detalleExtra,"")),detalleExtraGeneral:G(Z(a.detalleExtra,{preserveNewlines:!1,wordwrap:null})),cantidad:l.cantidad,unidadMedida:l.unidadMedida.descripcion,precioUnitario:l.precioUnitario,montoDescuento:l.montoDescuento,montoTotal:a.montoTotal,montoTotalMoneda:a.montoTotalMoneda,moneda:a.moneda.descripcion,tipoCambio:a.tipoCambio,estado:a.state,usuario:a.usuario})});Y({data:y,fileName:"reporte_detalle_ventas",exportType:Y.types.csv,withBOM:!0})}else _("No se han encontrado registros para el periodo seleccionado")};return i.useEffect(()=>{s&&(D(new Date),m(new Date))},[s]),e(A,{children:r(V,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435,height:500}},maxWidth:"sm",open:s,...o,children:[e(N,{children:"Exportar Ventas + Detalles"}),e(L,{dividers:!0,children:r(C,{container:!0,spacing:2,children:[e(C,{item:!0,sm:7,children:e(R,{children:e(oe,{selected:u,onChange:g,locale:"es",startDate:u,endDate:f,selectsRange:!0,inline:!0,isClearable:!0})})}),r(C,{item:!0,sm:5,children:[e(P,{sx:{mt:1},fullWidth:!0,label:"Fecha Inicial",value:b(u).format("DD/MM/YYYY")||"",size:"small"}),e(P,{sx:{mt:3},fullWidth:!0,label:"Fecha Final",value:b(f).format("DD/MM/YYYY")||"",size:"small"})]})]})}),r(O,{children:[e(w,{autoFocus:!0,disabled:x,color:"error",variant:"contained",size:"small",onClick:()=>{c()},children:"Cancelar"}),e(B,{loading:x,disabled:!b(u).isValid()||!b(f).isValid(),onClick:()=>S(),startIcon:e(T,{}),loadingPosition:"start",size:"small",variant:"contained",style:{marginRight:15},children:"Exportar Ventas"})]})]})})};ee("es",J);const ro=t=>{const{onClose:c,open:s,...o}=t,[x,h]=i.useState(!1),[u,D]=i.useState(new Date),[f,m]=i.useState(null),g=E=>{const[M,d]=E;D(M),m(d)},S=async()=>{h(!0);const E=b(u).format("YYYY-MM-DD"),d=`fechaEmision<=${b(f).format("YYYY-MM-DD")} 24:00:00&fechaEmision>=${E} 00:00:00`,n={...z,limit:1e4,reverse:!1,query:d},{docs:p}=await W(n);if(h(!1),p.length>0){const y=p.map(a=>({numeroFactura:a.numeroFactura,fechaEmision:a.fechaEmision,cuf:a.cuf,sucursal:a.sucursal.codigo,puntoVenta:a.puntoVenta.codigo,razonSocial:a.cliente.razonSocial,codigoCliente:a.cliente.codigoCliente,numeroDocumento:a.cliente.numeroDocumento,complemento:a.cliente.complemento||"",metodoPago:a.metodoPago.descripcion,montoTotal:a.montoTotal,montoTotalMoneda:a.montoTotalMoneda,moneda:a.moneda.descripcion,detalleExtra:G(Z(a.detalleExtra,{preserveNewlines:!1,wordwrap:null})),estado:a.state,usuario:a.usuario}));Y({data:y,fileName:"reporte_ventas",exportType:Y.types.csv,withBOM:!0})}else _("No se han encontrado registros para el periodo seleccionado")};return i.useEffect(()=>{s&&(D(new Date),m(new Date))},[s]),e(A,{children:r(V,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435,height:500}},maxWidth:"sm",open:s,...o,children:[e(N,{children:"Exportar Ventas"}),e(L,{dividers:!0,children:r(C,{container:!0,spacing:2,children:[r(C,{item:!0,sm:5,children:[e(P,{sx:{mt:1},fullWidth:!0,label:"Fecha Inicial",value:b(u).format("DD/MM/YYYY")||"",size:"small"}),e(P,{sx:{mt:3},fullWidth:!0,label:"Fecha Final",value:b(f).format("DD/MM/YYYY")||"",size:"small"})]}),e(C,{item:!0,sm:7,children:e(R,{children:e(oe,{selected:u,onChange:g,locale:"es",startDate:u,endDate:f,selectsRange:!0,inline:!0,isClearable:!0})})})]})}),r(O,{children:[e(w,{autoFocus:!0,disabled:x,color:"error",variant:"contained",size:"small",onClick:()=>{c()},children:"Cancelar"}),e(B,{loading:x,disabled:!b(u).isValid()||!b(f).isValid(),onClick:()=>S(),startIcon:e(T,{}),loadingPosition:"start",size:"small",variant:"contained",style:{marginRight:15},children:"Exportar Ventas"})]})]})})},so=[{header:"Nro. Factura",accessorKey:"numeroFactura",size:130},{accessorKey:"fechaEmision",header:"Fecha Emisión",id:"fechaEmision",enableColumnFilter:!1,size:160},{header:"Razon Social",id:"cliente.razonSocial",accessorKey:"cliente.razonSocial",maxSize:250,minSize:200},{id:"cliente.numeroDocumento",header:"Nro. Documento",accessorFn:t=>r("span",{children:[t.cliente.numeroDocumento," ",t.cliente.complemento?`-${t.cliente.complemento}`:""]}),filterFn:(t,c,s)=>t.original.cliente.numeroDocumento.startsWith(s),maxSize:150},{header:"Importe",accessorKey:"montoTotal",muiTableBodyCellProps:{align:"right"},Cell:({cell:t})=>e("span",{children:U(t.getValue(),{})}),size:150,enableColumnFilter:!1},{header:"Monto Moneda",accessorKey:"montoTotalMoneda",muiTableBodyCellProps:{align:"right"},accessorFn:t=>r("span",{children:[" ",U(t.montoTotalMoneda,{})]}),size:150,enableColumnFilter:!1},{header:"Moneda",accessorKey:"moneda.descripcion",accessorFn:t=>e("strong",{children:t.moneda.descripcion}),size:110,enableColumnFilter:!1},{header:"Tipo Cambio",accessorKey:"tipoCambio",size:130,muiTableBodyCellProps:{align:"right"},accessorFn:t=>r("span",{children:[" ",U(t.tipoCambio,{})]}),enableColumnFilter:!1},{accessorKey:"cuf",id:"cuf",header:"C.U.F."},{accessorKey:"usuario",id:"usuario",header:"Usuario"},{accessorKey:"state",header:"Estado",accessorFn:t=>e(ce,{color:t.state===se.validada?"success":t.state===se.pendiente?"warning":"error",label:t.state,size:"small"}),filterVariant:"select",filterSelectOptions:We,filterFn:(t,c,s)=>t.original.state.toLowerCase().startsWith(s.toLowerCase())}],Pt=()=>{const[t,c]=i.useState(!1),[s,o]=i.useState(null),[x,h]=i.useState(!1),[u,D]=i.useState(!1),[f,m]=i.useState(!1),[g,S]=i.useState(!1),[E,M]=i.useState(0),[d,n]=i.useState([]),[p,y]=i.useState([]),[a,l]=i.useState({pageIndex:z.page,pageSize:z.limit}),[de,lo]=i.useState({}),[co,te]=i.useState(!1),ue=async()=>{te(!0);try{await ne()}catch(v){console.error("Error al recargar los datos:",v)}te(!1)},{data:me,isError:ae,isLoading:pe,refetch:ne,isRefetching:he}=Ke(["gestionFacturas",d,a.pageIndex,a.pageSize,p],async()=>{try{const v=$e(d),k={...z,page:a.pageIndex+1,limit:a.pageSize,reverse:p.length<=0,query:v},ie=await W(k);if(ie){const{pageInfo:ge,docs:Ce}=ie;return M(ge.totalDocs),Ce}else return[]}catch(v){throw console.error(v),v}}),fe=i.useMemo(()=>so,[]);return r(A,{children:[r(Pe,{children:[e("div",{className:"breadcrumb",children:e(Ve,{routeSegments:[{name:"Ventas",path:"/ventas/gestion"},{name:"Gestión Ventas de Moneda Extranjera"}]})}),r(je,{children:[e(R,{children:e(w,{size:"small",startIcon:e(T,{}),onClick:()=>S(!0),variant:"outlined",children:"MIS VENTAS"})}),e(R,{children:e(w,{size:"small",startIcon:e(T,{}),onClick:()=>h(!0),variant:"outlined",children:"EXPORTAR"})}),e(R,{children:e(w,{size:"small",startIcon:e(T,{}),onClick:()=>D(!0),variant:"outlined",children:"EXPORTAR DETALLES"})})]}),e(C,{container:!0,spacing:2,children:e(C,{item:!0,lg:12,md:12,xs:12,children:e(ke,{columns:fe,data:me??[],initialState:{showColumnFilters:!0,columnVisibility:{cuf:!1,montoTotal:!1,tipoCambio:!1}},manualFiltering:!0,manualPagination:!0,manualSorting:!0,muiToolbarAlertBannerProps:ae?{color:"error",children:"Error Cargando Datos"}:void 0,onColumnFiltersChange:n,onPaginationChange:l,onSortingChange:y,enableDensityToggle:!1,enableGlobalFilter:!1,rowCount:E,localization:Le,state:{isLoading:pe,columnFilters:d,pagination:a,showAlertBanner:ae,showProgressBars:he,sorting:p,density:"compact",columnPinning:{right:["actions"]},rowSelection:de},enableRowActions:!0,positionActionsColumn:"first",displayColumnDefOptions:{"mrt-row-actions":{header:"Acciones",size:100}},renderTopToolbarCustomActions:({table:v})=>e(Ie,{refetch:ue,sx:{flexGrow:1}}),renderRowActions:({row:v})=>r("div",{style:{display:"flex",flexWrap:"nowrap",gap:"0.5rem"},children:[r(Ne,{menuButton:e(A,{children:e(Fe,{"aria-label":"delete",children:e(we,{})})}),children:[r(I,{onClick:k=>{k.preventDefault(),c(!0),o(v.original)},children:[e(Ae,{})," Anular Documento"]}),r(I,{onClick:()=>{H(v.original.representacionGrafica.pdf)},children:[e(Te,{})," Pdf Medio Oficio"]}),r(I,{onClick:()=>{H(v.original.representacionGrafica.xml)},children:[e(re,{})," Xml"]}),r(I,{onClick:()=>{H(v.original.representacionGrafica.sin)},children:[e(re,{})," Url S.I.N."]}),r(I,{onClick:k=>{k.preventDefault(),m(!0),o(v.original)},children:[e(ze,{})," Reenviar Correo"]})]}),e(Re,{row:v.original})]}),muiTableHeadCellFilterTextFieldProps:{...Ge}})})}),e(Ye,{py:"12px"}),e(eo,{id:"anularDocumentoDialog",open:t,keepMounted:!0,factura:s,onClose:async v=>{v&&await ne(),o(null),c(!1)}})]}),e(ro,{id:"ventaGestionExportar",keepMounted:!0,open:x,onClose:()=>{h(!1)}}),e(io,{id:"ventaGestionExportarDetalle",keepMounted:!0,open:u,onClose:()=>{D(!1)}}),e(oo,{id:"misVentasDialog",keepMounted:!1,open:g,onClose:()=>{S(!1)}}),e(no,{id:"reenviarEmails",keepMounted:!0,open:f,onClose:()=>{o(null),m(!1)},factura:s})]})};export{Pt as default};
