import{j as e,F as w,a as n,ay as S,aL as $,ao as Y,P as k,b0 as Me,aA as ke,aY as Be,U as te,_ as ie,$ as ae,a1 as re,b1 as Oe,M as Ce,O as le,b2 as me,aO as de,b3 as V,aQ as R,b4 as ve,a0 as be,b5 as Fe,b6 as $e,f as q,W as pe,aJ as ze,b7 as qe,b8 as Ve,b9 as Re,ba as Le,bb as We,Q as Ue,bc as Ne,bd as je,ai as ee,be as _e,bf as He,aB as Ge}from"./@mui-94e45ada.js";import{o as Qe}from"./@hookform-4c1cadd7.js";import{C as F,b as Ke,u as Xe}from"./react-hook-form-f9fec52a.js";import{A as Se,a as ne}from"./AlertLoading-3592644c.js";import{S as Ye,B as Je}from"./Breadcrumb-c4cf427b.js";import{S as J}from"./SimpleCard-cc9110a7.js";import{A as W,M as ce,u as H,i as se,a as xe,g as oe,c as ge,d as Ze,e as ye,F as Pe,o as eo}from"./index-a032e14e.js";import{g as U,G as N}from"./graphql-request-396d023b.js";import{e as Z}from"./@tanstack-464f39f1.js";import{r as g}from"./react-19ede8c0.js";import{S as _,A as Ee}from"./react-select-753177b7.js";import{F as he}from"./FormTextField-3f227e6b.js";import{M as z,r as L,a as oo}from"./ReactSelect-5115d3bc.js";import{c as Q,a as O,e as G,d as to}from"./yup-861a4b8a.js";import{u as io}from"./useQueryActividadesPorDocumentoSector-b0197bf8.js";import{a as ue,n as Ae,s as ao}from"./swal-6db6c20f.js";import{M as we}from"./material-react-table-1f8ebe78.js";import{P as K,l as De}from"./localization-3d90e8d6.js";import{j as ro,h as no,i as co}from"./ClienteRegistroDialog-de7d56aa.js";import{I as X}from"./rc-input-number-5ce3f958.js";import{Q as fe}from"./react-toastify-ac6b7c37.js";import{S as Te}from"./sweetalert2-b5adf0ab.js";import{n as M}from"./NumberInput-1ec990a6.js";import{m as lo}from"./materialReactTableUtils-e433a167.js";import{E as so}from"./@tinymce-ee82ed1e.js";import{l as uo}from"./lodash-c8b5ff2a.js";import"./imask-292dab86.js";import{I as mo}from"./react-imask-cd44bacd.js";import{w as po}from"./sweetalert2-react-content-a221181a.js";import{R as go}from"./RepresentacionGraficaUrls-713a010f.js";import"./react-is-e5978b8b.js";import"./@emotion-01c0502c.js";import"./hoist-non-react-statics-6e7e3bdb.js";import"./@babel-41a3dc83.js";import"./stylis-79144faa.js";import"./react-transition-group-07c33d75.js";import"./react-dom-308b05ff.js";import"./scheduler-765c72db.js";import"./@popperjs-f3391c26.js";import"./jss-4560bbb1.js";import"./is-in-browser-9e40da8a.js";import"./jss-plugin-rule-value-function-275843d2.js";import"./jss-plugin-global-96037998.js";import"./jss-plugin-nested-279c4525.js";import"./jss-plugin-camel-case-92f9f32c.js";import"./hyphenate-style-name-80972348.js";import"./jss-plugin-default-unit-80d6b696.js";import"./jss-plugin-vendor-prefixer-711b305d.js";import"./css-vendor-f41dfb6e.js";import"./jss-plugin-props-sort-0c9fca2f.js";import"./react-router-dom-c0e9fbdc.js";import"./react-router-11fb21ef.js";import"./@remix-run-d753ad9e.js";import"./Typography-c4fd38d1.js";import"./clsx-1229b3e0.js";/* empty css                     */import"./react-datepicker-b19bab85.js";import"./classnames-e62508ea.js";import"./date-fns-66b136a8.js";import"./react-onclickoutside-a7243ba6.js";import"./react-popper-4d77a87f.js";import"./warning-4834017b.js";import"./react-redux-0edfc849.js";import"./use-sync-external-store-b3a8aa83.js";import"./jwt-decode-9c18df67.js";import"./nanoid-bef4f1f3.js";import"./@reduxjs-e99b2c47.js";import"./immer-41fd5235.js";import"./redux-5bd193e3.js";import"./redux-thunk-ef899f4c.js";import"./rc-util-f84322a6.js";import"./@rc-component-9042d6d8.js";import"./form-data-c8368213.js";import"./extract-files-b993d67a.js";import"./graphql-9eaaa955.js";import"./cross-fetch-ff4a750f.js";import"./@floating-ui-de51804c.js";import"./use-isomorphic-layout-effect-2578e237.js";import"./memoize-one-297ddbcb.js";import"./property-expr-38205fa5.js";import"./tiny-case-d0726479.js";import"./toposort-85f95ecf.js";import"./highlight-words-42d92bcd.js";import"./yup-locales-e98f4908.js";import"./prop-types-082dc46a.js";const ho=U`
  query PLANTILLA_DETALLE_EXTRA {
    plantillasDetalleExtra {
      title
      description
      content
    }
  }
`,fo=async()=>{try{const t=new N("https://sandbox.isipass.net/api"),o=localStorage.getItem(W);return t.setHeader("authorization",`Bearer ${o}`),(await t.request(ho)).plantillasDetalleExtra}catch(t){throw new ce(t)}},Co=(t=[])=>{const{data:o,isLoading:d,isError:r,error:p}=Z(["plantillaDetalleExtra",...t],async()=>{const c=await fo();return c.length>0?c:[]});return{plantillaDetalleExtra:o,pdeLoading:d,pdeIsError:r,pdeError:p}};const vo=U`
  query MONEDAS {
    monedas {
      codigo
      sigla
      descripcion
      tipoCambio
      activo
    }
  }
`,Ie=async()=>{const t=new N("https://sandbox.isipass.net/api"),o=localStorage.getItem(W);return t.setHeader("authorization",`Bearer ${o}`),(await t.request(vo)).monedas},bo=t=>{const{form:{control:o,watch:d,setValue:r,getValues:p,formState:{errors:c}}}=t,[f,h]=g.useState([]),l=async()=>{const v=await Ie();h(v)};g.useEffect(()=>{l()},[]);const x=[{value:1,label:"Venta"},{value:2,label:"Compra"}];return e(w,{children:n(S,{container:!0,spacing:1,rowSpacing:2,children:[e(S,{item:!0,xs:12,lg:6,sm:12,md:12,children:e(F,{name:"moneda",control:o,render:({field:v})=>{var m;return n($,{fullWidth:!0,error:!!c.moneda,children:[e(z,{shrink:!0,children:"Tipo Moneda"}),e(_,{...v,styles:{...L,control:(a,s)=>({...a,fontWeight:"bold"}),menu:(a,s)=>({...a,backgroundColor:"white",zIndex:1e3})},name:"moneda",placeholder:"Seleccione la moneda de venta",value:v.value,onChange:async a=>{if(!a){v.onChange(a);return}v.onChange(a);const s=f.find(C=>C.sigla===a.sigla);s&&r("tipoCambio",s.tipoCambio)},onBlur:async a=>{v.onBlur()},isSearchable:!1,options:f,getOptionValue:a=>a.codigo.toString(),getOptionLabel:a=>`${a.descripcion} (${a.sigla})`}),c.moneda&&e(Y,{children:(m=c.moneda)==null?void 0:m.message})]})}})}),e(F,{name:"codigoTipoOperacion",control:o,render:({field:v})=>e(S,{item:!0,xs:12,lg:6,sm:12,md:12,children:n($,{fullWidth:!0,error:!!c.codigoTipoOperacion,children:[e(z,{shrink:!0,children:"Tipo Moneda"}),e(_,{...v,styles:{...L,control:(m,a)=>({...m,fontWeight:"bold"}),menu:(m,a)=>({...m,backgroundColor:"white",zIndex:1e3})},options:[{value:1,label:"Venta"},{value:2,label:"Compra"}],placeholder:"Seleccione el tipo de operación",onChange:m=>{if(m){const a=parseInt(m.value);r("codigoTipoOperacion",a)}else r("codigoTipoOperacion",1)},value:x.find(m=>m.value===p("codigoTipoOperacion"))})]})})}),e(S,{item:!0,xs:12,lg:6,sm:12,md:12,children:e(F,{name:"tipoCambio",control:o,render:({field:v})=>{var m;return e(he,{...v,id:"tipoCambio",label:"Tipo de Cambio",type:"number",size:"small",fullWidth:!0,onChange:a=>{let s=a.target.value.trim();if(s=s.replace(/,/g,"."),/^\d+(\.\d{0,5})?$/.test(s)||s===""){const C=s===""?0:parseFloat(s);C>=0&&C<=9999999999999e-5&&(v.onChange(C),r("tipoCambio",C))}},error:!!c.tipoCambio,helperText:(m=c.tipoCambio)==null?void 0:m.message})}})}),e(S,{item:!0,xs:12,lg:6,sm:12,md:12,children:e(F,{name:"tipoCambioOficial",control:o,render:({field:v})=>{var m;return e(he,{...v,type:"number",id:"tipoCambioOficial",label:"Tipo Cambio Oficial",fullWidth:!0,inputProps:{step:"0.00001"},error:!!c.tipoCambioOficial,helperText:(m=c.tipoCambioOficial)==null?void 0:m.message,onChange:a=>{const s=a.target.value.trim();if(/^\d+(\.\d{0,5})?$/.test(s)||s===""){const C=s===""?0:parseFloat(s);C>=0&&C<=9999999999999e-5&&(v.onChange(C),r("tipoCambioOficial",C))}}})}})})]})})},So=Q({actividadEconomica:Q({codigoActividad:O().required()}),tipoCliente:O().required(),cliente:Q({codigoCliente:O().required()}).nullable().required(),emailCliente:O().email().nullable().required()}),xo=t=>{const{form:{control:o,setValue:d,reset:r,getValues:p,formState:{errors:c,isSubmitted:f,isSubmitSuccessful:h}}}=t,{user:l}=H(),{actividades:x,actIsError:v,actError:m,actLoading:a}=io();return g.useEffect(()=>{if(!a&&x&&x.length>0&&se(p("actividadEconomica"))){const s=x.find(C=>C.codigoActividad===l.actividadEconomica.codigoCaeb);s?d("actividadEconomica",s):d("actividadEconomica",x[0])}},[a]),v?e(Se,{mensaje:m==null?void 0:m.message}):e(w,{children:e(J,{children:a?e(ne,{}):e(F,{name:"actividadEconomica",control:o,render:({field:s})=>{var C;return n($,{fullWidth:!0,error:!!c.actividadEconomica,children:[e(z,{shrink:!0,children:"Actividad Económica"}),e(_,{...s,styles:L,name:"actividadEconomica",placeholder:"Seleccione la actividad económica",value:s.value,onChange:async P=>{s.onChange(P),d("detalle",[])},onBlur:async P=>{s.onBlur()},isSearchable:!1,options:x,getOptionValue:P=>P.codigoActividad,getOptionLabel:P=>`${P.tipoActividad} - ${P.codigoActividad} - ${P.actividadEconomica}`}),c.actividadEconomica&&e(Y,{children:(C=c.actividadEconomica)==null?void 0:C.message})]})}})})})},yo=U`
  query CLIENTES_BUSQUEDA($query: String!) {
    clienteBusqueda(query: $query) {
      _id
      apellidos
      codigoCliente
      complemento
      email
      nombres
      numeroDocumento
      razonSocial
      tipoDocumentoIdentidad {
        codigoClasificador
        descripcion
      }
      state
    }
  }
`,Po=async t=>{try{const o=new N("https://sandbox.isipass.net/api"),d=localStorage.getItem(W);return o.setHeader("authorization",`Bearer ${d}`),(await o.request(yo,{query:t})).clienteBusqueda}catch(o){throw new ce(o)}},Eo=[{accessorKey:"codigoCliente",header:"Código Cliente",size:120},{accessorKey:"razonSocial",header:"Razon Social"},{accessorFn:t=>`${t.numeroDocumento}${t.complemento?`-${t.complemento}`:""}`,id:"numeroDocumento",header:"Nro. Documento",size:120},{id:"email",header:"Correo",accessorKey:"email"},{accessorKey:"tipoDocumentoIdentidad.descripcion",id:"tipoDocumentoIdentidad.descripcion",header:"Tipo Documento"}],Ao=t=>{const{setRowCliente:o}=t,[d,r]=g.useState(0),[p,c]=g.useState([]),[f,h]=g.useState([]),[l,x]=g.useState({pageIndex:K.page,pageSize:K.limit}),{data:v,isError:m,isLoading:a,isFetching:s}=Z(["client",p,l.pageIndex,l.pageSize,f],async()=>{const P=xe(p),B={...K,page:l.pageIndex+1,limit:l.pageSize,reverse:f.length<=0,query:P},{pageInfo:b,docs:y}=await ro(B);return r(b.totalDocs),y},{keepPreviousData:!0}),C=g.useMemo(()=>Eo,[]);return e(w,{children:e(we,{columns:C,data:v??[],initialState:{showColumnFilters:!0},localization:De,manualPagination:!0,manualFiltering:!0,manualSorting:!0,muiToolbarAlertBannerProps:m?{color:"error",children:"Error loading data"}:void 0,enableDensityToggle:!1,enableGlobalFilter:!1,onColumnFiltersChange:c,onPaginationChange:x,onSortingChange:h,rowCount:d??0,state:{columnFilters:p,isLoading:a,pagination:l,showAlertBanner:m,showProgressBars:s,sorting:f,density:"compact"},muiTableHeadCellFilterTextFieldProps:{sx:{m:"0.5rem 0",width:"95%"},variant:"outlined",size:"small"},muiTableContainerProps:{sx:{maxHeight:"650px"}},enableRowActions:!0,positionActionsColumn:"last",renderRowActions:({row:P})=>e("div",{style:{display:"flex",flexWrap:"nowrap",gap:"0.5rem"},children:e(k,{startIcon:e(Me,{}),variant:"outlined",color:"primary",size:"small",onClick:()=>{o(P.original)},sx:{width:"80px",height:"28px",fontSize:"0.8rem"},children:"Sel."})})})})},wo=ke(Be)(({theme:t})=>({backdropFilter:"blur(5px)",backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:t.zIndex.drawer+1})),Do=t=>{const{onClose:o,open:d,...r}=t,[p,c]=g.useState(null);g.useEffect(()=>{p&&o(p)},[p]),g.useEffect(()=>{d&&c(null)},[d]);const f=()=>{o()};return e(w,{children:n(te,{sx:{"& .MuiDialog-paper":{width:"100%",maxHeight:"100%"}},maxWidth:"xl",open:d,onClose:f,onKeyDown:l=>{l.key==="Escape"&&o()},BackdropComponent:wo,...r,children:[e(ie,{children:"Explorar Clientes"}),e(ae,{sx:{overflow:"hidden"},dividers:!0,children:e(Ao,{setRowCliente:c})}),e(re,{children:e(k,{autoFocus:!0,color:"error",size:"small",variant:"contained",onClick:f,children:"Cerrar"})})]})})},To=t=>{var C,P,B;const{form:{control:o,watch:d,setValue:r,getValues:p,formState:{errors:c}}}=t,[f,h]=g.useState(!1),[l,x]=g.useState(!1),[v,m]=g.useState(!1),a=d(),s=async b=>{try{if(b.length>2){const y=await Po(b);if(y)return y}return[]}catch(y){return ue(y),[]}};return n(w,{children:[n(S,{container:!0,spacing:1,rowSpacing:3,children:[e(S,{item:!0,xs:12,lg:8,sm:12,md:12,children:e(F,{name:"cliente",control:o,render:({field:b})=>{var y;return n($,{fullWidth:!0,error:!!c.cliente,children:[e(z,{shrink:!0,children:"Búsqueda de clientes"}),e(Ee,{...b,cacheOptions:!1,defaultOptions:!0,styles:oo(!!c.cliente),menuPosition:"fixed",name:"clientes",placeholder:"Seleccione Cliente",loadOptions:s,isClearable:!0,value:b.value||null,getOptionValue:i=>i.codigoCliente,getOptionLabel:i=>`${i.numeroDocumento}${i.complemento||""} - ${i.razonSocial} - ${i.tipoDocumentoIdentidad.descripcion}`,onChange:i=>{b.onChange(i),r("emailCliente",oe(i==null?void 0:i.email,""))},onBlur:b.onBlur,noOptionsMessage:()=>"Ingrese referencia -> Razón Social, Código Cliente, Número documento",loadingMessage:()=>"Buscando..."}),e(Y,{children:(y=c.cliente)==null?void 0:y.message})]})}})}),e(S,{item:!0,lg:4,xs:12,md:3,children:e(k,{variant:"outlined",fullWidth:!0,onClick:()=>x(!0),startIcon:e(Oe,{}),children:"Explorar Clientes"})}),e(S,{item:!0,lg:5,xs:12,md:8,children:e(F,{control:o,name:"emailCliente",render:({field:b})=>{var y;return e(Ce,{...b,error:!!c.emailCliente,fullWidth:!0,name:"emailCliente",size:"small",label:"Correo Electrónico Alternativo",value:b.value||"",disabled:!p("cliente"),onChange:b.onChange,onBlur:b.onBlur,helperText:(y=c.emailCliente)==null?void 0:y.message})}})}),e(S,{item:!0,lg:3,xs:12,md:3,children:e(le,{title:"Nuevo Cliente",children:e(k,{variant:"outlined",fullWidth:!0,onClick:()=>h(!0),startIcon:e(me,{}),children:"N. Cliente"})})}),e(S,{item:!0,lg:4,xs:12,md:3,children:e(le,{title:"Nuevo Cliente 99001",children:e(k,{variant:"outlined",fullWidth:!0,onClick:()=>m(!0),startIcon:e(me,{}),children:"N. Cliente 99001"})})}),e(S,{item:!0,lg:12,children:n(de,{style:{marginTop:-10,marginLeft:10,padding:0},children:[e(V,{style:{padding:0},children:n(R,{children:[e("strong",{children:"Nombre/Razón Social:"}),"  "," ",((C=a.cliente)==null?void 0:C.razonSocial)||""]})}),e(V,{style:{padding:0},children:n(R,{children:[e("strong",{children:"NIT/CI/CEX:"}),"  "," ",((P=a.cliente)==null?void 0:P.numeroDocumento)||""," ",((B=a.cliente)==null?void 0:B.complemento)||""]})}),e(V,{style:{padding:0},children:n(R,{children:[e("strong",{children:"Correo:"}),"   ",a.emailCliente||""]})})]})})]}),e(w,{children:e(no,{id:"nuevoClienteDialog",keepMounted:!1,open:f,onClose:async b=>{b&&(r("cliente",b),r("emailCliente",b.email),await s(b.codigoCliente)),h(!1)}})}),e(w,{children:e(Do,{id:"explorarClienteDialog",keepMounted:!1,open:l,onClose:async b=>{b&&(r("cliente",b),r("emailCliente",b.email),await s(b.codigoCliente)),x(!1)}})}),e(w,{children:e(co,{id:"explorarClienteDialog99001",keepMounted:!1,open:v,onClose:async b=>{b&&(r("cliente",b),r("emailCliente",b.email),await s(b.codigoCliente)),m(!1)}})})]})},Io=U`
  query BUSQUEDA($query: String!) {
    fcvmeProductoBusqueda(query: $query) {
      state
      codigoProducto
      nombre
      descripcion
      actividadEconomica {
        codigoCaeb
        descripcion
        tipoActividad
      }
      descripcionHtml
      tipoProducto {
        _id
        descripcion
        codigoParent
      }
      imagen {
        altText
        url
      }
      proveedor {
        codigo
        nombre
        correo
      }
      sinProductoServicio {
        codigoActividad
        codigoProducto
        descripcionProducto
      }
      precio
      precioComparacion
      costo
      unidadMedida {
        codigoClasificador
        descripcion
      }
    }
  }
`,Mo=async t=>{const o=new N("https://sandbox.isipass.net/api"),d=localStorage.getItem(W);o.setHeader("authorization",`Bearer ${d}`);const r=await o.request(Io,{query:t});return(r==null?void 0:r.fcvmeProductoBusqueda)||[]},ko=U`
  query EXP_PRODUCTO_LISTADO(
    $limit: Int!
    $reverse: Boolean
    $page: Int!
    $query: String
  ) {
    fcvmeProductoListado(limit: $limit, reverse: $reverse, page: $page, query: $query) {
      pageInfo {
        hasNextPage
        hasPrevPage
        limit
        page
        totalDocs
      }
      docs {
        codigoProducto
        state
        nombre
        descripcion
        actividadEconomica {
          codigoCaeb
          descripcion
          tipoActividad
        }
        descripcionHtml
        tipoProducto {
          _id
          descripcion
          codigoParent
        }
        imagen {
          altText
          url
        }
        proveedor {
          codigo
          nombre
          correo
        }
        sinProductoServicio {
          codigoActividad
          codigoProducto
          descripcionProducto
        }
        precio
        precioComparacion
        costo
        unidadMedida {
          codigoClasificador
          descripcion
        }
        state
        usucre
        createdAt
        usumod
        updatedAt
      }
    }
  }
`,Bo=async t=>{const o=new N("https://sandbox.isipass.net/api"),d=localStorage.getItem(W);o.setHeader("authorization",`Bearer ${d}`);const r=await o.request(ko,{...t});return(r==null?void 0:r.fcvmeProductoListado)||[]},Oo=t=>{H();const o=g.useMemo(()=>[{accessorKey:"codigoProducto",header:"Código Producto",size:100},{accessorKey:"nombre",header:"Producto / Servicio"},{accessorKey:"unidadMedida.descripcion",header:"Unidad Medida",enableColumnFilter:!1,size:100},{accessorKey:"precio",header:"Precio",muiTableBodyCellProps:{align:"right"},accessorFn:y=>M(y.precio,{}),size:100},{accessorKey:"sinProductoServicio.descripcionProducto",header:"Descripción Producto",enableColumnFilter:!1},{accessorKey:"proveedor.nombre",header:"Proveedor",enableColumnFilter:!1,size:100},{accessorKey:"sinProductoServicio.codigoActividad",header:"Código Actividad",enableColumnFilter:!1,size:100}],[]),{setProductosVariantes:d,codigoActividad:r}=t,[p,c]=g.useState(0),[f,h]=g.useState([]),[l,x]=g.useState([]),[v,m]=g.useState({pageIndex:K.page,pageSize:K.limit}),[a,s]=g.useState({}),{data:C,isError:P,isFetching:B,isLoading:b}=Z(["tableProductoVarianteDialog",f,v.pageIndex,v.pageSize,l],async()=>{const y=xe(f,[`sinProductoServicio.codigoActividad=${r}`]),i={...K,page:v.pageIndex+1,limit:v.pageSize,reverse:l.length<=0,query:y},{pageInfo:D,docs:E}=await Bo(i);return c(D.totalDocs),E},{keepPreviousData:!0});return g.useEffect(()=>{if(a){const y=Object.keys(a);if(C){const i=C.filter(D=>y.includes(D.codigoProducto));d(i)}}},[a,C,d]),e(w,{children:e("div",{style:{maxHeight:"500px",overflowY:"auto"},children:e(we,{columns:o,data:C??[],initialState:{showColumnFilters:!0},localization:De,manualFiltering:!0,manualPagination:!0,manualSorting:!0,muiToolbarAlertBannerProps:P?{color:"error",children:"Error en cargar los datos"}:void 0,onColumnFiltersChange:h,onPaginationChange:m,onSortingChange:x,enableDensityToggle:!1,enableGlobalFilter:!1,rowCount:p??0,state:{isLoading:b,columnFilters:f,pagination:v,showAlertBanner:P,showProgressBars:B,sorting:l,density:"compact",rowSelection:a},muiTableHeadCellFilterTextFieldProps:{...lo},enableRowSelection:!0,onRowSelectionChange:s,getRowId:y=>y.codigoProducto,muiTableContainerProps:{sx:{maxHeight:"650px"}},muiTableBodyRowProps:({row:y})=>({onClick:y.getToggleSelectedHandler(),sx:{cursor:"pointer"}})})})})},Fo=t=>{const{onClose:o,codigoActividad:d,open:r,...p}=t,[c,f]=g.useState([]),h=()=>{c.length>0&&o(c)};return e(w,{children:n(te,{sx:{"& .MuiDialog-paper":{width:"100%",maxHeight:750}},maxWidth:"xl",open:r,...p,children:[e(ie,{children:"Explorar Servicios"}),e(ae,{dividers:!0,children:e(Oo,{codigoActividad:d,setProductosVariantes:f})}),n(re,{style:{justifyContent:"center",marginLeft:10},children:[e(k,{autoFocus:!0,color:"error",size:"small",variant:"contained",onClick:()=>o(),children:"Cerrar"}),e(k,{sx:{mr:2},disabled:c.length===0,autoFocus:!0,color:"primary",size:"small",variant:"contained",onClick:()=>h(),children:"Adicionar Servicio"})]})]})})},$o=U`
  query PRODUCTO_SERVICIO_POR_ACTIVIDAD_UNIDAD_MEDIDA($codigoDocumentoSector: Int!) {
    sinProductoServicioPorDocumentoSector(codigoDocumentoSector: $codigoDocumentoSector) {
      codigoActividad
      codigoProducto
      descripcionProducto
    }
    sinUnidadMedida {
      codigoClasificador
      descripcion
    }
  }
`,zo=async()=>{try{const t=new N("https://sandbox.isipass.net/api"),o=localStorage.getItem(W),d=parseInt("9".toString());return t.setHeader("authorization",`Bearer ${o}`),await t.request($o,{codigoDocumentoSector:d})}catch(t){throw new ce(t)}},qo=t=>{const{onClose:o,keepMounted:d,codigoActividad:r,open:p,...c}=t,{user:f}=H(),h={incluirCantidad:!1,verificarStock:!1,id:ge(5),codigoProducto:ge(10).toUpperCase(),nombre:"",precio:0,titulo:"",inventario:[{sucursal:f.sucursal,stock:0}],costo:0,sinProductoServicio:{},unidadMedida:{},precioComparacion:0,disponibleParaVenta:!1,codigoBarras:null},[l,x]=g.useState(h),[v,m]=g.useState([]),[a,s]=g.useState([]),[C,P]=g.useState(null),B=()=>{o()},b=()=>{try{if(l.titulo.trim().length===0)throw new Error("Debe ingresar título del producto");if(l.nombre.trim().length===0)throw new Error("Debe ingresar nombre del producto");if(l.precio===0)throw new Error("Precio debe ser mayor a 0");if(se(l.unidadMedida))throw new Error("Seleccione unidad de medida");if(se(l.sinProductoServicio))throw new Error("Seleccione producto para homologación");const i={_id:l.id,id:l.id,sinProductoServicio:l.sinProductoServicio,codigoProducto:l.codigoProducto,titulo:l.titulo,nombre:l.nombre,codigoBarras:null,precio:l.precio,precioComparacion:l.precioComparacion,costo:l.costo,incluirCantidad:!1,verificarStock:!1,unidadMedida:l.unidadMedida,inventario:l.inventario,usucre:f.nombres};o(i)}catch(i){Ae(i.message)}},y=async()=>{try{const i=await zo();i&&(m(i.sinUnidadMedida),s(i.sinProductoServicioPorDocumentoSector))}catch(i){P(i.message)}};return g.useEffect(()=>{y().then()},[]),g.useEffect(()=>{p&&x(h)},[p]),e(w,{children:n(te,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:490}},maxWidth:"sm",keepMounted:!1,open:p,...c,children:[e(ie,{children:"Agregar Producto/Servicio Personalizado"}),e(ae,{dividers:!0,children:C?e(Se,{mensaje:C}):n(S,{container:!0,spacing:2.5,children:[e(S,{item:!0,lg:12,md:12,xs:12,children:n($,{fullWidth:!0,component:"div",children:[e(z,{shrink:!0,children:"Tipo de Producto Homologado"}),e(_,{styles:L,menuPosition:"fixed",name:"productoServicio",placeholder:"Seleccione producto para homologación",value:oe(l.sinProductoServicio,null),onChange:i=>{x({...l,sinProductoServicio:i||{}})},options:a,getOptionValue:i=>i.codigoProducto,getOptionLabel:i=>`${i.codigoProducto} - ${i.descripcionProducto}`})]})}),e(S,{item:!0,lg:12,md:12,xs:12,children:n($,{fullWidth:!0,component:"div",children:[e(z,{shrink:!0,children:"Unidad Medida"}),e(_,{styles:L,menuPosition:"fixed",name:"unidadMedida",placeholder:"Seleccione la unidad de medida",value:oe(l.unidadMedida,null),onChange:i=>{x({...l,unidadMedida:i||{}})},options:v,getOptionLabel:i=>`${i.codigoClasificador} - ${i.descripcion}`})]})}),e(S,{item:!0,lg:12,md:12,sm:12,xs:12,children:e(Ce,{id:"nombre",label:"Nombre / Descripción Servicio",multiline:!0,minRows:3,maxRows:6,size:"small",fullWidth:!0,value:l.nombre,onChange:i=>{x({...l,nombre:i.target.value,titulo:i.target.value})}})}),n(S,{item:!0,lg:12,md:12,xs:12,children:[e(ve,{children:"Precio"}),e(X,{min:0,value:l.precio,onFocus:Ze,onChange:i=>x({...l,precio:i}),formatter:M,style:{width:"100%"}})]})]})}),n(re,{sx:{mb:1},children:[e(k,{variant:"contained",size:"small",onClick:b,children:"Registrar"}),e(k,{variant:"contained",size:"small",color:"error",autoFocus:!0,onClick:B,style:{marginRight:18},children:"Cancelar"})]})]})})},Vo=t=>{const[o,d]=g.useState(""),{form:{control:r,setValue:p,getValues:c,formState:{errors:f}}}=t,{user:h}=H(),l=h.monedaTienda,{fields:x,append:v,prepend:m,remove:a,insert:s,update:C}=Ke({control:r,name:"detalle"}),[P,B]=g.useState(!1),[b,y]=g.useState(!1),i=u=>u.target.select(),D=async u=>{u&&m({...u,codigoProductoSin:u.sinProductoServicio.codigoProducto,cantidad:1,cantidadIce:1,precioUnitario:u.precio,montoDescuento:0,subtotal:0})},E=(u,I)=>{C(u,I)},T=async u=>{try{const I=await Mo(u);return I?I.filter(j=>j.sinProductoServicio.codigoActividad===c("actividadEconomica.codigoActividad")):[]}catch(I){return ue(I),[]}};return g.useEffect(()=>{const u=ye(c());p("montoSubTotal",u.subTotal),p("montoPagar",u.montoPagar),p("inputVuelto",u.vuelto),p("total",u.total)},[x]),g.useEffect(()=>{c("actividadEconomica")&&T("").then()},[c("actividadEconomica")]),c("actividadEconomica.codigoActividad")?n(w,{children:[e(J,{title:"Servicios",children:n(S,{container:!0,spacing:1,children:[e(S,{item:!0,xs:12,lg:7,md:7,sm:12,children:n($,{fullWidth:!0,children:[e(z,{shrink:!0,children:"Búsqueda de Servicios"}),e(Ee,{cacheOptions:!1,defaultOptions:!1,styles:L,menuPosition:"fixed",name:"productosServicios",placeholder:"Seleccione Servicio",loadOptions:T,isClearable:!0,value:null,getOptionValue:u=>u.codigoProducto,getOptionLabel:u=>`${u.codigoProducto} - ${u.nombre}`,onChange:u=>D(u),noOptionsMessage:()=>"Ingrese referencia al Producto/Servicio deseado",loadingMessage:()=>"Buscando..."})]})}),e(S,{item:!0,xs:12,md:5,lg:5,children:n(be,{direction:{xs:"column",sm:"row"},spacing:1,children:[e(k,{variant:"outlined",onClick:()=>y(!0),children:"Explorar Servicios"}),e(k,{onClick:()=>B(!0),variant:"outlined",children:"Servicio Personalizado"})]})}),n(S,{item:!0,xs:12,md:5,lg:5,children:[e("div",{style:{display:"flex",alignItems:"center"},children:e("span",{style:{marginRight:"8px",fontWeight:"bold",fontSize:"15px"}})}),o&&n("div",{style:{marginTop:"8px"},children:[e("span",{style:{fontWeight:"bold",fontSize:"15px"},children:"Período Seleccionado:"})," ",o]})]}),e(S,{item:!0,xs:12,children:e("div",{className:"responsive-table",style:{marginTop:20},children:n("table",{children:[e("thead",{children:n("tr",{children:[e("th",{scope:"col",style:{width:400},children:"Producto"}),e("th",{scope:"col",style:{width:160},children:"Cantidad"}),e("th",{scope:"col",style:{width:160},children:"Precio"}),e("th",{scope:"col",style:{width:160},children:"Descuento"}),e("th",{scope:"col",style:{width:150},children:"SUB Total"}),e("th",{scope:"col",style:{width:100},children:"Opciones"})]})}),e("tbody",{children:x.length>0&&x.map((u,I)=>n("tr",{children:[e("td",{"data-label":"Producto",children:e(de,{dense:!0,sx:{width:"400%",maxWidth:360,bgcolor:"background.paper",padding:0},children:n(V,{alignItems:"flex-start",children:[e(Fe,{children:e($e,{alt:"Remy Sharp"})}),e(R,{primary:e(w,{children:n(q,{variant:"subtitle2",gutterBottom:!0,children:[u.nombre," ",e("span",{style:{fontWeight:"normal"},children:u.detalleExtra||""})]})}),secondary:n(g.Fragment,{children:[e(q,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:`Código: ${u.codigoProducto}`})," ",e("br",{}),`${u.unidadMedida.descripcion||""}`]})})]})})}),e("td",{"data-label":"CANTIDAD",children:e(X,{min:.1,value:u.cantidad,onFocus:i,onChange:A=>{A&&A>=0&&C(I,{...u,cantidad:A})},formatter:(A,j)=>M(A,j,5)})}),e("td",{"data-label":`PRECIO (${l.sigla})`,children:e(X,{min:0,value:u.precioUnitario,onFocus:i,onChange:A=>{A&&(A>=0&&A>=u.montoDescuento?C(I,{...u,precioUnitario:A}):fe.warn("El precio no puede ser menor al descuento"))},formatter:(A,j)=>M(A,j,5)})}),e("td",{"data-label":`DESCUENTO (${l.sigla})`,children:e(X,{min:0,max:u.precioUnitario-.1,value:u.montoDescuento||0,onFocus:i,onChange:A=>{A>=0&&(A<=u.precioUnitario?C(I,{...u,montoDescuento:A}):fe.warn("El descuento no puede ser mayor al precio"))},formatter:(A,j)=>M(A,j,5)})}),e("td",{"data-label":`SUB-TOTAL (${l.sigla||""})`,style:{textAlign:"right",backgroundColor:"#fafafa"},children:e(q,{variant:"subtitle1",gutterBottom:!0,component:"div",children:e("strong",{children:M(u.cantidad*u.precioUnitario-u.montoDescuento,{})})})}),n("td",{"data-label":"OPCIONES",style:{textAlign:"right"},children:[e(pe,{onClick:()=>a(I),children:e(ze,{color:"warning"})}),e(pe,{onClick:async()=>{const{value:A}=await Te.fire({input:"textarea",inputLabel:"Añadir descripción extra",inputPlaceholder:"Ingrese su descripcion extra...",inputValue:u.detalleExtra||"",inputAttributes:{"aria-label":"Type your message here"},showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Agregar Descripción"});E(I,{...u,detalleExtra:A||""})},children:e(qe,{color:"primary"})})]})]},I))})]})})})]})}),e(w,{children:e(qo,{id:"agregarArticulo",keepMounted:!1,open:P,codigoActividad:c("actividadEconomica.codigoActividad"),onClose:u=>{D(u).then(),B(!1)}})}),e(w,{children:e(Fo,{id:"explorarProductos",keepMounted:!1,open:b,codigoActividad:c("actividadEconomica.codigoActividad"),onClose:u=>{if(u)for(const I of u)D(I).then();y(!1)}})})]}):e(w,{children:e(ne,{})})},Ro=t=>{const{form:{control:o,setValue:d,getValues:r,formState:{errors:p}},detalleExtra:c}=t;return e(w,{children:n(Ve,{sx:{backgroundColor:"#EFEFEF"},children:[e(le,{title:"Click para Abrir / Cerrar",placement:"top",arrow:!0,children:e(Re,{expandIcon:e(Le,{}),"aria-controls":"panel1a-content",children:e(q,{variant:"subtitle2",children:"DETALLE EXTRA (Click para expandir)"})})}),e(We,{children:e(Ue,{sx:{alignItems:"right",textAlign:"left"},children:e(so,{apiKey:"niud727ae46xgl3s5morxk4v03hq6rrv7lpkvustyt2ilp2k",value:r("detalleExtra")||"",onInit:(f,h)=>{h.on("blur",l=>{d("detalleExtraText",h.getContent({format:"text"}))})},onEditorChange:(f,h)=>{d("detalleExtra",h.getContent())},init:{plugins:"table template code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright alignjustify | table | template | code",menubar:!1,table_default_attributes:{border:"none"},min_height:250,height:250,max_height:500,templates:c}})})})]})})},Lo=g.forwardRef(function(o,d){const{onChange:r,...p}=o;return e(mo,{...p,mask:"0000-\\0\\0\\0\\0-\\0\\0\\0\\0-0000",lazy:!1,inputRef:d,definitions:{0:/[1-9]/},unmask:"typed",onAccept:(c,f)=>r({target:{name:o.name,value:c}}),overwrite:!0})}),Wo=U`
  query METODOS_PAGO {
    metodosPago {
      codigoClasificador
      descripcion
    }
  }
`,Uo=async()=>{const t=new N("https://sandbox.isipass.net/api"),o=localStorage.getItem(W);return t.setHeader("authorization",`Bearer ${o}`),(await t.request(Wo)).metodosPago},No=(t=[])=>{const{data:o,isLoading:d,isError:r,error:p}=Z(["metodosPago",...t],async()=>{const c=await Uo();return c.length>0?c:[]});return{metodosPago:o,mpLoading:d,mpIsError:r,mpError:p}},jo=t=>{const{form:{control:o,watch:d,setValue:r,getValues:p,formState:{errors:c}}}=t,f=d("codigoMetodoPago"),{metodosPago:h,mpIsError:l,mpError:x,mpLoading:v}=No();return g.useEffect(()=>{f.codigoClasificador===1&&r("numeroTarjeta","")},[f]),e(w,{children:n(be,{spacing:3,pt:2,mt:2,children:[e(F,{name:"codigoMetodoPago",control:o,render:({field:m})=>{var a;return n($,{fullWidth:!0,error:!!c.codigoMetodoPago,children:[e(z,{shrink:!0,children:"Método de Págo"}),e(_,{...m,styles:{...L,control:(s,C)=>({...s,fontWeight:"bold",fontSize:"15px"})},name:"codigoMetodoPago",placeholder:"Seleccione el método de págo",value:m.value,onChange:async s=>{m.onChange(s)},onBlur:async s=>{m.onBlur()},isSearchable:!1,options:h,getOptionValue:s=>s.codigoClasificador.toString(),getOptionLabel:s=>`${s.codigoClasificador} - ${s.descripcion}`}),c.codigoMetodoPago&&e(Y,{children:(a=c.codigoMetodoPago)==null?void 0:a.message})]})}}),p("codigoMetodoPago").codigoClasificador===2&&e(w,{children:e(F,{name:"numeroTarjeta",control:o,render:({field:m})=>n($,{fullWidth:!0,size:"small",focused:!0,style:{zIndex:0},children:[e(ve,{htmlFor:"formatted-text-mask-input",children:"Ingrese el Número de tarjeta"}),e(Ne,{label:"Ingrese el Número de tarjeta",...m,value:m.value||"",onChange:a=>{const s=uo.replace(a.target.value,new RegExp("-","g"),"").replace(/_/g,"").trim();m.onChange(s)},name:"numeroTarjeta",inputComponent:Lo}),e("small",{children:"Ingrese los primero 4 y últimos 4 dígitos"})]})})})]})})},_o=U`
  mutation ICE_REGISTRO($input: FcvMonedaExtranjeraInput!) {
    fcvMonedaExtranjeraRegistro(input: $input) {
      state
      numeroFactura
      representacionGrafica {
        pdf
        rollo
        xml
        sin
      }
      sucursal {
        codigo
      }
      puntoVenta {
        codigo
      }
    }
  }
`,Ho=async t=>{try{const o=new N("https://sandbox.isipass.net/api"),d=localStorage.getItem(W);return o.setHeader("authorization",`Bearer ${d}`),(await o.request(_o,{input:t})).fcvMonedaExtranjeraRegistro}catch(o){throw console.log("error",o),console.log("error",o.response.errors[0].message),new ce(o)}},Go=t=>{var d;const o={actividadEconomica:(d=t.actividadEconomica)==null?void 0:d.codigoActividad,cliente:{codigoCliente:t.cliente.codigoCliente,email:t.cliente.email},codigoMetodoPago:t.codigoMetodoPago.codigoClasificador,descuentoAdicional:t.descuentoAdicional,codigoMoneda:t.moneda.codigo,tipoCambio:t.tipoCambio,codigoTipoOperacion:t.codigoTipoOperacion,tipoCambioOficial:t.tipoCambioOficial,detalleExtra:t.detalleExtra,detalle:t.detalle.map(r=>{var p;return{codigoActividad:(p=t.actividadEconomica)==null?void 0:p.codigoActividad,codigoProductoSin:r.codigoProductoSin,codigoProducto:r.codigoProducto,descripcionProducto:r.nombre,cantidad:r.cantidad,unidadMedida:parseInt(r.unidadMedida.codigoClasificador.toString()),montoDescuento:r.montoDescuento,detalleExtra:r.detalleExtra,precioUnitario:r.precioUnitario}})};return t.numeroTarjeta?{...o,numeroTarjeta:t.numeroTarjeta}:o},Qo=async t=>(await Q({actividadEconomica:O().required("Debe seleccionar la actividad economica"),cliente:Q({codigoCliente:O().required("Debe seleccionar los datos del cliente"),email:O().email("Debe ingresar un correo valido")}),codigoMetodoPago:G().integer().min(1).max(308).required(),detalleExtra:O().min(0).max(500),tipoCambio:G().min(0),numeroTarjeta:O().max(16),detalle:to().of(Q({codigoProductoSin:O().min(1).max(99999999).required(),codigoProducto:O().min(1).max(50).required(),descripcionProducto:O().min(1).max(500).required(),cantidad:G().min(0).required(),unidadMedida:G().integer().min(1).required(),precioUnitario:G().min(0).required(),montoDescuento:G().min(0)})).min(1,"Debe seleccionar al menos 1 productos / servicio para el detalle")}).validate(t),!0),Ko=t=>{const{user:{monedaTienda:o}}=H(),{onClose:d,keepMounted:r,value:p,open:c,...f}=t,[h,l]=g.useState(p),x=g.useRef(null);g.useEffect(()=>{c||l(p)},[p,c]);const v=()=>{d()},m=()=>{d(h)};return n(te,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",keepMounted:r,TransitionProps:{onEntering:()=>{x.current!=null&&x.current.focus()}},open:c,...f,children:[n(ie,{children:["Ingrese Descuento Adicional (",o.descripcion,")"]}),e(ae,{dividers:!0,children:e(S,{container:!0,children:n(S,{item:!0,lg:12,children:[e(X,{min:0,value:h,onFocus:s=>s.target.select(),onChange:s=>l(s),formatter:M}),e(q,{variant:"subtitle1",sx:{ml:1},component:"small",children:o.sigla||""})]})})}),n(re,{children:[e(k,{autoFocus:!0,onClick:v,children:"Cancelar"}),e(k,{onClick:m,style:{marginRight:10},children:"Aceptar"})]})]})},Xo=t=>{const{user:{moneda:o,monedaTienda:d}}=H(),{form:{control:r,reset:p,handleSubmit:c,setValue:f,getValues:h,formState:{errors:l}}}=t,[x,v]=g.useState(!1),m=po(Te),a=h("moneda");h("tipoCambio");const s=i=>i.target.select(),C=async i=>{const D=Go(i);await Qo(D).catch(T=>{Ae(T.message)})&&await ao({text:"¿Confirma que desea emitir el documento fiscal?",preConfirm:()=>Ho(D).catch(T=>(ue(T),!1))}).then(T=>{if(T.isConfirmed){const{value:u}=T;p({...Pe,actividadEconomica:i.actividadEconomica}),eo(u.representacionGrafica.pdf),m.fire({title:"Documento generado correctamente",html:e(go,{representacionGrafica:u.representacionGrafica})})}})},{data:P,isLoading:B,isError:b,error:y}=Z(["apiMonedas"],async()=>{const i=await Ie();if(i.length>0){const D=i.find(T=>T.codigo===oe(a==null?void 0:a.codigo,o.codigo)),E=i.find(T=>T.codigo===d.codigo);return D&&E&&(f("moneda",D),f("tipoCambio",E.tipoCambio)),i}return[]});return g.useEffect(()=>{const i=ye(h());f("montoSubTotal",i.subTotal),f("montoPagar",i.montoPagar),f("inputVuelto",i.vuelto),f("total",i.total)},[h("descuentoAdicional"),h("inputMontoPagar")]),e(w,{children:n(J,{title:"Cálculo de los totales",childIcon:e(je,{}),children:[B?e(ne,{}):e(F,{name:"moneda",control:r,render:({field:i})=>{var D;return n($,{fullWidth:!0,error:!!l.moneda,children:[e(z,{shrink:!0,children:"Moneda de venta"}),e(_,{...i,styles:{...L,control:E=>({...E,fontWeight:"bold",fontSize:"1.2em"})},name:"moneda",placeholder:"Seleccione la moneda de venta",value:i.value,onChange:async E=>{i.onChange(E)},onBlur:async E=>{i.onBlur()},isSearchable:!1,options:P,getOptionValue:E=>E.codigo.toString(),getOptionLabel:E=>`${E.descripcion} (${E.sigla}) - ${M(E.tipoCambio,{})}`,isDisabled:!0}),l.moneda&&e(Y,{children:(D=l.moneda)==null?void 0:D.message})]})}}),n(de,{dense:!0,sx:{mt:2},children:[e(ee,{}),e(V,{style:{padding:0},secondaryAction:n(q,{variant:"subtitle1",gutterBottom:!0,children:[M(h("montoSubTotal")||0,{}),n("span",{style:{fontSize:"0.8em"},children:[" ",(a==null?void 0:a.sigla)||""]})]}),children:e(R,{primary:e("strong",{children:"SUB-TOTAL"})})}),e(V,{style:{padding:0},secondaryAction:n(w,{children:[n(_e,{href:"#",onClick:()=>v(!0),variant:"subtitle1",underline:"hover",children:[M(h("descuentoAdicional")||0,{}),n("span",{style:{fontSize:"0.8em"},children:[" ",(a==null?void 0:a.sigla)||""]})]}),e(Ko,{id:"ringtone-menu",keepMounted:!1,open:x,onClose:i=>{v(!1),(i||i===0)&&f("descuentoAdicional",i)},value:h("descuentoAdicional")||0})]}),children:e(R,{primary:e("strong",{children:"DESCUENTO ADICIONAL"})})}),e(V,{style:{padding:0},secondaryAction:n(q,{variant:"subtitle1",gutterBottom:!0,children:[M(h("total")||0,{}),n("span",{style:{fontSize:"0.8em"},children:[" ",(a==null?void 0:a.sigla)||""]})]}),children:e(R,{primary:e("strong",{children:"TOTAL"})})}),e(ee,{variant:"inset",component:"li",style:{marginTop:10,marginBottom:20}}),e(V,{style:{padding:0},secondaryAction:n(q,{variant:"h6",gutterBottom:!0,children:[M(h("montoPagar")||0,{}),n("span",{style:{fontSize:"0.8em"},children:[" ",(a==null?void 0:a.sigla)||""]})]}),children:e(R,{primary:e("strong",{children:"MONTO A PAGAR"})})})]}),e(ee,{style:{marginTop:10,marginBottom:20},color:"red"}),n(S,{sx:{flexGrow:1},container:!0,spacing:3,children:[e(S,{item:!0,xs:12,md:7,lg:7,children:e(F,{control:r,name:"inputMontoPagar",render:({field:i})=>{var D,E;return n($,{fullWidth:!0,error:!!((D=l.inputMontoPagar)!=null&&D.message),children:[e(z,{shrink:!0,children:"Ingrese Monto"}),e(X,{...i,min:0,id:"montoPagar",className:"inputMontoPagar",value:i.value,onFocus:s,onChange:T=>{i.onChange(T)},formatter:M}),e(Y,{children:(E=l.inputMontoPagar)==null?void 0:E.message})]})}})}),n(S,{item:!0,xs:12,md:5,lg:5,children:[e("small",{children:"Vuelto / Saldo"}),e(q,{variant:"h6",gutterBottom:!0,mr:2,align:"right",color:"red",children:M(h("inputVuelto")||0,{})})]}),e(S,{item:!0,xs:12,md:12,lg:12,children:e(k,{variant:"contained",onClick:c(C),fullWidth:!0,color:"success",startIcon:e(He,{}),children:"REALIZAR PAGO"})})]})]})})},Ti=()=>{const{user:t}=H(),o=Xe({defaultValues:{...Pe},resolver:Qe(So)}),{pdeLoading:d,plantillaDetalleExtra:r}=Co();return n(Ye,{children:[e("div",{className:"breadcrumb",children:e(Je,{routeSegments:[{name:"Compra / Venta",path:"/ventas/registro"},{name:"Registrar Compra Venta"}]})}),e("form",{noValidate:!0,children:n(S,{container:!0,spacing:2,children:[e(S,{item:!0,lg:12,md:12,xs:12,children:e(xo,{form:o})}),e(S,{item:!0,lg:12,md:12,xs:12,children:e(Vo,{form:o,periodoDate:""})}),e(S,{item:!0,lg:12,md:12,xs:12,children:d?e(ne,{mensaje:"Cargando..."}):e(Ro,{form:o,detalleExtra:r})}),n(S,{item:!0,lg:7,md:12,xs:12,children:[e("div",{style:{padding:"10px 0"},children:e(J,{title:"Datos Comercial Compra / Venta",children:e(bo,{form:o})})}),e("div",{style:{padding:"20px 0"},children:n(J,{title:"Cliente / Método de pago",children:[e(To,{form:o,user:t}),e(ee,{}),e(jo,{form:o})]})})]}),e(S,{item:!0,lg:5,md:6,xs:12,children:e("div",{style:{padding:"20px 0"},children:e(Xo,{form:o})})})]})}),e(Ge,{py:"12px"})]})};export{Ti as default};
