import{r as y}from"./react-dom-308b05ff.js";import{r as u}from"./react-19ede8c0.js";import"./hoist-non-react-statics-6e7e3bdb.js";import"./react-is-e5978b8b.js";import"./use-sync-external-store-b3a8aa83.js";function S(n){n()}let x=S;const h=n=>x=n,m=()=>x,d=Symbol.for("react-redux-context"),b=typeof globalThis<"u"?globalThis:{};function C(){var n;if(!u.createContext)return{};const o=(n=b[d])!=null?n:b[d]=new Map;let t=o.get(u.createContext);return t||(t=u.createContext(null),o.set(u.createContext,t)),t}const v=C();function w(){const n=m();let o=null,t=null;return{clear(){o=null,t=null},notify(){n(()=>{let e=o;for(;e;)e.callback(),e=e.next})},get(){let e=[],s=o;for(;s;)e.push(s),s=s.next;return e},subscribe(e){let s=!0,r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:o=r,function(){!s||o===null||(s=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:o=r.next)}}}}const p={notify(){},get:()=>[]};function E(n,o){let t,e=p;function s(g){return a(),e.subscribe(g)}function r(){e.notify()}function c(){f.onStateChange&&f.onStateChange()}function l(){return!!t}function a(){t||(t=o?o.addNestedSub(c):n.subscribe(c),e=w())}function i(){t&&(t(),t=void 0,e.clear(),e=p)}const f={addNestedSub:s,notifyNestedSubs:r,handleChangeWrapper:c,isSubscribed:l,trySubscribe:a,tryUnsubscribe:i,getListeners:()=>e};return f}const N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L=N?u.useLayoutEffect:u.useEffect;function D({store:n,context:o,children:t,serverState:e,stabilityCheck:s="once",noopCheck:r="once"}){const c=u.useMemo(()=>{const i=E(n);return{store:n,subscription:i,getServerState:e?()=>e:void 0,stabilityCheck:s,noopCheck:r}},[n,e,s,r]),l=u.useMemo(()=>n.getState(),[n]);L(()=>{const{subscription:i}=c;return i.onStateChange=i.notifyNestedSubs,i.trySubscribe(),l!==n.getState()&&i.notifyNestedSubs(),()=>{i.tryUnsubscribe(),i.onStateChange=void 0}},[c,l]);const a=o||v;return u.createElement(a.Provider,{value:c},t)}h(y.unstable_batchedUpdates);export{D as P};
